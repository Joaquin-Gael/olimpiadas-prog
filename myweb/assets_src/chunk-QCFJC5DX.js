import{a as re}from"./chunk-LCNIAU75.js";import{c as ae,d as S,f as se,g as le,j as ce,l as de,m as ge,p as fe,q as pe,s as me}from"./chunk-XS72MANT.js";import{b as ie}from"./chunk-Q7F6POQD.js";import{c as oe}from"./chunk-3CC5MCQZ.js";import"./chunk-RO3E3J3P.js";import"./chunk-VLZLEZCB.js";import"./chunk-CK4HYLRU.js";import{$b as ee,Ab as l,Bb as o,Cb as i,Db as d,E as K,Ea as X,Fc as A,Gc as F,Hb as h,Hc as P,Jb as _,Kb as c,Mc as x,Qc as ne,Ua as U,Ub as Z,Wb as k,X as Q,Xa as a,Xb as D,Y as W,Yb as s,Zb as M,_b as v,a as y,ab as O,b as B,bc as N,dc as te,hb as C,j as J,ja as b,ka as u,lb as f,nb as p,o as H,oc as V,vb as w,wa as z}from"./chunk-HNZQVEQV.js";function ue(n,t){n&1&&(o(0,"div",8)(1,"p"),s(2,"Cargando datos del usuario..."),i()())}function ve(n,t){if(n&1&&(o(0,"div",2)(1,"div",3)(2,"div",4),s(3),i()(),o(4,"div",5)(5,"h3"),s(6),i(),o(7,"p",6),s(8),i()(),f(9,ue,3,0,"div",7),i()),n&2){let e=c();a(3),v(" ",e.getInitials()," "),a(3),M(e.getFullName()),a(2),M(e.user.email),a(),l("ngIf",!e.user)}}var L=class n{constructor(t,e){this.platformId=t;this.cdr=e;this.isBrowser=ne(this.platformId)}user;showStats=!0;allowAvatarEdit=!0;avatarChange=new p;isBrowser;ngOnChanges(){this.user&&this.cdr.markForCheck()}getAvatarUrl(){return"/placeholder.svg?height=120&width=120"}getFullName(){return this.user?`${this.user.first_name} ${this.user.last_name}`:""}getInitials(){if(!this.user)return"";let t=this.user.first_name?.charAt(0).toUpperCase()||"",e=this.user.last_name?.charAt(0).toUpperCase()||"";return`${t}${e}`}static \u0275fac=function(e){return new(e||n)(O(X),O(V))};static \u0275cmp=C({type:n,selectors:[["app-profile"]],inputs:{user:"user",showStats:"showStats",allowAvatarEdit:"allowAvatarEdit"},outputs:{avatarChange:"avatarChange"},features:[z],decls:2,vars:1,consts:[[1,"profile-card"],["class","profile-card__content",4,"ngIf"],[1,"profile-card__content"],[1,"profile-card__avatar"],[1,"profile-card__avatar-initials"],[1,"profile-card__info"],[1,"profile-card__email"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(e,r){e&1&&(o(0,"article",0),f(1,ve,10,4,"div",1),i()),e&2&&(a(),l("ngIf",r.user))},dependencies:[x,P],styles:['@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.profile-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;text-align:center;position:relative;overflow:hidden}.profile-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.profile-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:120px;background:linear-gradient(135deg,#2563eb,#6b95f1);opacity:.05;z-index:0}.profile-card__content[_ngcontent-%COMP%]{position:relative;z-index:1;padding:2rem}.profile-card__avatar[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-bottom:1.5rem}.profile-card__avatar-initials[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:9999px;background-color:#2563eb;color:#fff;font-size:1.5rem;font-weight:600;display:flex;align-items:center;justify-content:center;flex-direction:row;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;transition:all .25s ease-in-out}.profile-card__avatar-initials[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a}.profile-card__avatar-edit[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:36px;rozheight:36px;background:#2563eb;border:3px solid #ffffff;border-radius:9999px;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-direction:row;transition:all .15s ease-in-out;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.profile-card__avatar-edit[_ngcontent-%COMP%]:hover{background:#5484ef;transform:scale(1.1);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.profile-card__avatar-edit[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;outline-offset:2px}.profile-card__avatar-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.profile-card__info[_ngcontent-%COMP%]{margin-bottom:1.5rem}.profile-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 .25rem;line-height:1.2}.profile-card__info-email[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0;word-break:break-word}.profile-card__stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding-top:1.5rem;border-top:1px solid #e2e8f0;gap:1rem}.profile-card__stat[_ngcontent-%COMP%]{text-align:center;flex:1;padding:.5rem;border-radius:.5rem;transition:all .15s ease-in-out}.profile-card__stat[_ngcontent-%COMP%]:hover{background:#2563eb08;transform:translateY(-2px)}.profile-card__stat-number[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;color:#2563eb;line-height:1.2;margin-bottom:.25rem}.profile-card__stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;text-transform:uppercase;letter-spacing:.5px;font-weight:500}@media (max-width: 639px){.profile-card__content[_ngcontent-%COMP%]{padding:1.5rem}.profile-card__avatar-initials[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.25rem}.profile-card__avatar-edit[_ngcontent-%COMP%]{width:32px;height:32px;bottom:4px;right:4px}.profile-card__avatar-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.profile-card__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.profile-card__stats[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}'],changeDetection:0})};function he(n,t){if(n&1){let e=h();o(0,"button",4),_("click",function(){let g=b(e).$implicit,m=c();return u(m.onTabChange(g.id))}),d(1,"i",5),o(2,"span"),s(3),i()()}if(n&2){let e=t.$implicit,r=c();l("ngClass",r.getNavItemClasses(e.id)),w("aria-current",e.active?"page":null)("aria-selected",r.isTabActive(e.id)),a(),D(e.icon),a(2),M(e.label)}}var R=class n{user;tabs=[];activeTab;showStats=!0;allowAvatarEdit=!0;tabChange=new p;avatarChange=new p;onTabChange(t){this.activeTab!==t&&this.tabChange.emit(t)}onAvatarChange(t){this.avatarChange.emit(t)}isTabActive(t){return this.activeTab===t}getNavItemClasses(t){return{"sidebar-nav__item":!0,"sidebar-nav__item--active":this.isTabActive(t)}}trackByTabId(t,e){return e.id}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-sidebar"]],inputs:{user:"user",tabs:"tabs",activeTab:"activeTab",showStats:"showStats",allowAvatarEdit:"allowAvatarEdit"},outputs:{tabChange:"tabChange",avatarChange:"avatarChange"},decls:4,vars:5,consts:[["role","complementary",1,"user-sidebar"],[3,"avatarChange","user","showStats","allowAvatarEdit"],["role","navigation","aria-label","Navegaci\xF3n del panel",1,"sidebar-nav"],["type","button","class","sidebar-nav__item","role","tab",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","tab",1,"sidebar-nav__item",3,"click","ngClass"],["aria-hidden","true"]],template:function(e,r){e&1&&(o(0,"aside",0)(1,"app-profile",1),_("avatarChange",function(m){return r.onAvatarChange(m)}),i(),o(2,"nav",2),f(3,he,4,6,"button",3),i()()),e&2&&(a(),l("user",r.user)("showStats",r.showStats)("allowAvatarEdit",r.allowAvatarEdit),a(2),l("ngForOf",r.tabs)("ngForTrackBy",r.trackByTabId))},dependencies:[x,A,F,L],styles:["@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.user-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:100%;background-color:#fff;border-right:1px solid #e2e8f0;padding:1rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.sidebar-nav[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:.5rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;border:1px solid #e2e8f0}.sidebar-nav__item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;border-radius:.5rem;color:#64748b;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .15s ease-in-out;background:none;border:none;text-align:left;width:100%}.sidebar-nav__item[_ngcontent-%COMP%]:hover{background-color:#2563eb0d;color:#2563eb}.sidebar-nav__item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#2563eb;transform:scale(1.05)}.sidebar-nav__item[aria-current=page][_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#5484ef);color:#fff;font-weight:600}.sidebar-nav__item[aria-current=page][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;transform:scale(1.1)}.sidebar-nav__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;height:20px;font-size:1rem;transition:all .15s ease-in-out}.sidebar-nav__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 639px){.user-sidebar[_ngcontent-%COMP%]{padding:.5rem}.sidebar-nav__item[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem}.sidebar-nav__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.125rem}.sidebar-nav__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})};function Ce(n,t){n&1&&(o(0,"div",30)(1,"div",31),d(2,"i",32),o(3,"span"),s(4,"Cargando..."),i()()())}function xe(n,t){if(n&1&&(o(0,"div",33),d(1,"i",34),s(2),i()),n&2){let e=c();a(2),v(" ",e.getFieldError("first_name")," ")}}function Pe(n,t){if(n&1&&(o(0,"div",33),d(1,"i",34),s(2),i()),n&2){let e=c();a(2),v(" ",e.getFieldError("last_name")," ")}}function ke(n,t){if(n&1&&(o(0,"div",33),d(1,"i",34),s(2),i()),n&2){let e=c();a(2),v(" ",e.getFieldError("email")," ")}}function Me(n,t){if(n&1&&(o(0,"div",33),d(1,"i",34),s(2),i()),n&2){let e=c();a(2),v(" ",e.getFieldError("telephone")," ")}}function Oe(n,t){n&1&&(o(0,"span"),d(1,"i",32),s(2," Guardando... "),i())}function ye(n,t){n&1&&(o(0,"span"),s(1,"Guardar Cambios"),i())}var j=class n{constructor(t){this.fb=t}user;isLoading=!1;save=new p;cancel=new p;formChange=new p;profileForm;isFormDirty=!1;ngOnInit(){this.initializeForm()}ngOnChanges(t){t.user&&!t.user.firstChange&&this.user&&this.initializeForm()}initializeForm(){this.profileForm=this.fb.group({first_name:[this.user?.first_name||"",[S.required,S.minLength(2)]],last_name:[this.user?.last_name||"",[S.required,S.minLength(2)]],email:[this.user?.email||"",[S.required,S.email]],telephone:[this.user?.telephone||"",[S.required]],born_date:[this.user?.born_date||""],state:[this.user?.state||""]}),this.profileForm.valueChanges.subscribe(()=>{this.isFormDirty=this.profileForm.dirty,this.formChange.emit({valid:this.profileForm.valid,dirty:this.isFormDirty})})}onSave(){if(this.profileForm.valid){let t=B(y(y({},this.user),this.profileForm.value),{id:this.user?.id||0,created_at:this.user?.created_at||new Date().toISOString(),is_staff:this.user?.is_staff||!1});this.save.emit(t)}}onCancel(){this.profileForm.reset(),this.initializeForm(),this.cancel.emit()}getFieldError(t){let e=this.profileForm.get(t);if(e&&e.invalid&&e.touched){if(e.errors?.required)return"Este campo es requerido";if(e.errors?.email)return"Ingresa un email v\xE1lido";if(e.errors?.minlength)return`M\xEDnimo ${e.errors.minlength.requiredLength} caracteres`}return null}hasFieldError(t){let e=this.profileForm.get(t);return!!(e&&e.invalid&&e.touched)}static \u0275fac=function(e){return new(e||n)(O(pe))};static \u0275cmp=C({type:n,selectors:[["app-profile-form"]],inputs:{user:"user",isLoading:"isLoading"},outputs:{save:"save",cancel:"cancel",formChange:"formChange"},features:[z],decls:57,vars:20,consts:[["novalidate","",1,"profile-form",3,"ngSubmit","formGroup"],["class","profile-form__loading-overlay",4,"ngIf"],[1,"profile-form__section"],[1,"profile-form__section-title"],["aria-hidden","true",1,"fas","fa-user"],[1,"profile-form__row","profile-form__row--two-cols"],[1,"form-group"],["for","first_name",1,"form-label"],["aria-hidden","true",1,"fas","fa-user-circle"],[1,"required"],["id","first_name","type","text","formControlName","first_name","placeholder","Ej: Juan","required","",1,"form-input"],["class","form-error",4,"ngIf"],["for","last_name",1,"form-label"],["id","last_name","type","text","formControlName","last_name","placeholder","Ej: P\xE9rez","required","",1,"form-input"],["for","email",1,"form-label"],["aria-hidden","true",1,"fas","fa-envelope"],["id","email","type","email","formControlName","email","placeholder","Ej: juan.perez@example.com","required","",1,"form-input"],["for","telephone",1,"form-label"],["aria-hidden","true",1,"fas","fa-phone"],["id","telephone","type","tel","formControlName","telephone","placeholder","Ej: +1234567890","required","",1,"form-input"],["for","born_date",1,"form-label"],["aria-hidden","true",1,"fas","fa-calendar-alt"],["id","born_date","type","date","formControlName","born_date",1,"form-input"],["for","state",1,"form-label"],["aria-hidden","true",1,"fas","fa-map-marker-alt"],["id","state","type","text","formControlName","state","placeholder","Ej: Activo",1,"form-input"],[1,"profile-form__actions"],["type","button",1,"btn","btn--outline",3,"click","disabled"],["type","submit",1,"btn","btn--primary",3,"disabled"],[4,"ngIf"],[1,"profile-form__loading-overlay"],[1,"profile-form__loading-spinner"],["aria-hidden","true",1,"fas","fa-spinner","fa-spin"],[1,"form-error"],["aria-hidden","true",1,"fas","fa-exclamation-circle"]],template:function(e,r){e&1&&(o(0,"form",0),_("ngSubmit",function(){return r.onSave()}),f(1,Ce,5,0,"div",1),o(2,"fieldset",2)(3,"legend",3),d(4,"i",4),s(5," Datos B\xE1sicos "),i(),o(6,"div",5)(7,"div",6)(8,"label",7),d(9,"i",8),s(10," Nombre "),o(11,"span",9),s(12,"*"),i()(),d(13,"input",10),f(14,xe,3,1,"div",11),i(),o(15,"div",6)(16,"label",12),d(17,"i",8),s(18," Apellido "),o(19,"span",9),s(20,"*"),i()(),d(21,"input",13),f(22,Pe,3,1,"div",11),i()(),o(23,"div",5)(24,"div",6)(25,"label",14),d(26,"i",15),s(27," Email "),o(28,"span",9),s(29,"*"),i()(),d(30,"input",16),f(31,ke,3,1,"div",11),i(),o(32,"div",6)(33,"label",17),d(34,"i",18),s(35," Tel\xE9fono "),o(36,"span",9),s(37,"*"),i()(),d(38,"input",19),f(39,Me,3,1,"div",11),i()(),o(40,"div",5)(41,"div",6)(42,"label",20),d(43,"i",21),s(44," Fecha de Nacimiento "),i(),d(45,"input",22),i(),o(46,"div",6)(47,"label",23),d(48,"i",24),s(49," Estado "),i(),d(50,"input",25),i()()(),o(51,"div",26)(52,"button",27),_("click",function(){return r.onCancel()}),s(53," Cancelar "),i(),o(54,"button",28),f(55,Oe,3,0,"span",29)(56,ye,2,0,"span",29),i()()()),e&2&&(k("profile-form--loading",r.isLoading),l("formGroup",r.profileForm),a(),l("ngIf",r.isLoading),a(12),k("form-input--error",r.hasFieldError("first_name")),a(),l("ngIf",r.getFieldError("first_name")),a(7),k("form-input--error",r.hasFieldError("last_name")),a(),l("ngIf",r.getFieldError("last_name")),a(8),k("form-input--error",r.hasFieldError("email")),a(),l("ngIf",r.getFieldError("email")),a(7),k("form-input--error",r.hasFieldError("telephone")),a(),l("ngIf",r.getFieldError("telephone")),a(13),l("disabled",!r.isFormDirty||r.isLoading),a(2),l("disabled",r.profileForm.invalid||!r.isFormDirty||r.isLoading),a(),l("ngIf",r.isLoading),a(),l("ngIf",!r.isLoading))},dependencies:[x,P,me,ce,ae,se,le,fe,de,ge],styles:[`@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.profile-form[_ngcontent-%COMP%]{padding:2rem;background:#fff;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;animation:_ngcontent-%COMP%_fadeIn .25s ease-in-out ease-in-out}.profile-form__loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;z-index:1040;display:flex;align-items:center;justify-content:center;flex-direction:row}.profile-form__loading-overlay__loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;color:#94a3b8;font-size:.875rem}.profile-form__loading-overlay__loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#2563eb}.profile-form__section[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e2e8f0}.profile-form__section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:1rem}.profile-form__section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin-bottom:1.5rem;display:flex;align-items:center;justify-content:center;flex-direction:row;gap:.5rem}.profile-form__section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2563eb;font-size:1rem}.profile-form__row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.profile-form__row--two-cols[_ngcontent-%COMP%]{flex-wrap:wrap}.profile-form__row--two-cols[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;min-width:200px}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.profile-form[_ngcontent-%COMP%]   .form-group--full-width[_ngcontent-%COMP%]{width:100%}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#1e293b;display:flex;align-items:center;justify-content:center;flex-direction:row;gap:.25rem}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem;border:1px solid #cbd5e1;border-radius:.5rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:.875rem;line-height:1.5;color:#1e293b;background-color:#fff;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled, .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled{background-color:#f1f5f9;color:#94a3b8;cursor:not-allowed}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:hover:not(:focus):not(.form-input--error), .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover:not(:focus):not(.form-input--error){border-color:#2563eb}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input.form-input--error[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select.form-input--error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .5rem center;background-repeat:no-repeat;background-size:16px;padding-right:2rem;appearance:none;cursor:pointer}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-error[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem;display:flex;align-items:center;gap:.25rem}.profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.profile-form__actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;padding-top:1.5rem;margin-top:1.5rem}.profile-form__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.5rem 1rem;border:1px solid transparent;border-radius:.5rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:.875rem;font-weight:500;line-height:1.5;text-decoration:none;cursor:pointer;transition:all .15s ease-in-out;-webkit-user-select:none;user-select:none;min-width:140px;padding:.5rem 1.5rem}.profile-form__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;outline-offset:2px}.profile-form__actions[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border-color:#2563eb}.profile-form__actions[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#134cca;border-color:#134cca}.profile-form__actions[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]:active:not(:disabled){background-color:#1043b3;border-color:#1043b3}.profile-form__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]{background-color:#fff;color:#1e293b;border-color:#cbd5e1}.profile-form__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e6e6e6;border-color:#abbbce}.profile-form__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:active:not(:disabled){background-color:#d9d9d9;border-color:#9aaec5}.profile-form__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb}.profile-form__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.profile-form--loading[_ngcontent-%COMP%]{position:relative;pointer-events:none}.profile-form--loading[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .profile-form--loading[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .profile-form--loading[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1f5f9 25%,#f8fafc,#f1f5f9 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}@media (max-width: 639px){.profile-form[_ngcontent-%COMP%]{padding:1rem}.profile-form__section[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1rem}.profile-form__section-title[_ngcontent-%COMP%]{font-size:1rem}.profile-form__row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.profile-form__row--two-cols[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:100%}.profile-form__actions[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.profile-form__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media (prefers-reduced-motion: reduce){.profile-form[_ngcontent-%COMP%]{animation:fadeIn 0s ease-in-out}.profile-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:none}}@media (prefers-contrast: high){.profile-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-width:2px;border-color:#1e293b}.profile-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .profile-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#2563eb;box-shadow:0 0 0 2px #2563eb}.profile-form[_ngcontent-%COMP%]   .form-error[_ngcontent-%COMP%]{font-weight:700}}`],changeDetection:0})};function we(n,t){if(n&1){let e=h();o(0,"button",14),_("click",function(g){let m=b(e).$implicit,be=c(2);return u(be.onAction(m.action,g))}),s(1),i()}if(n&2){let e=t.$implicit;D("btn--"+e.variant),a(),v(" ",e.label," ")}}function Fe(n,t){if(n&1&&(o(0,"div",12),f(1,we,2,3,"button",13),i()),n&2){let e=c();a(),l("ngForOf",e.getAvailableActions())}}var q=class n{booking;showActions=!0;action=new p;click=new p;onAction(t,e){e.stopPropagation(),this.action.emit({action:t,bookingId:this.booking.id})}onClick(){this.click.emit(this.booking)}getStatusText(){return{confirmed:"Confirmado",completed:"Completado",cancelled:"Cancelado",pending:"Pendiente"}[this.booking.status]||this.booking.status}getStatusClasses(){return{"booking-card__status":!0,[`booking-card__status--${this.booking.status}`]:!0}}formatPrice(){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(this.booking.price)}formatDates(){let t=new Date(this.booking.startDate).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),e=new Date(this.booking.endDate).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"});return`${t} - ${e}`}getAvailableActions(){let t=[{action:"view",label:"Ver Detalles",variant:"outline"}];switch(this.booking.status){case"confirmed":t.push({action:"modify",label:"Modificar",variant:"primary"}),t.push({action:"cancel",label:"Cancelar",variant:"error"});break;case"completed":t.push({action:"rate",label:"Valorar",variant:"secondary"});break;case"pending":t.push({action:"confirm",label:"Confirmar",variant:"success"});break}return t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-booking-card"]],inputs:{booking:"booking",showActions:"showActions"},outputs:{action:"action",click:"click"},decls:17,vars:12,consts:[[1,"booking-card",3,"click"],[1,"booking-card__image"],["loading","lazy",3,"src","alt"],[1,"booking-card__details"],[3,"ngClass"],[1,"booking-card__title"],[1,"booking-card__dates"],["aria-hidden","true",1,"fas","fa-calendar"],[1,"booking-card__guests"],["aria-hidden","true",1,"fas","fa-users"],[1,"booking-card__price"],["class","booking-card__actions",4,"ngIf"],[1,"booking-card__actions"],["type","button","class","btn btn--small",3,"class","click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn--small",3,"click"]],template:function(e,r){e&1&&(o(0,"article",0),_("click",function(){return r.onClick()}),o(1,"div",1),d(2,"img",2),i(),o(3,"div",3)(4,"div",4),s(5),i(),o(6,"h3",5),s(7),i(),o(8,"p",6),d(9,"i",7),s(10),i(),o(11,"p",8),d(12,"i",9),s(13),i(),o(14,"p",10),s(15),i()(),f(16,Fe,2,1,"div",11),i()),e&2&&(D("booking-card--"+r.booking.status),a(2),l("src",r.booking.imageUrl,U)("alt",r.booking.destination),a(2),l("ngClass",r.getStatusClasses()),a(),v(" ",r.getStatusText()," "),a(2),M(r.booking.title),a(3),v(" ",r.formatDates()," "),a(3),ee(" ",r.booking.guests," ",r.booking.guests===1?"adulto":"adultos"," "),a(2),M(r.formatPrice()),a(),l("ngIf",r.showActions))},dependencies:[x,A,F,P],styles:["@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.booking-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;display:flex;overflow:hidden;cursor:pointer;transition:transform .15s ease-in-out,box-shadow .15s ease-in-out}.booking-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.booking-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.booking-card__image[_ngcontent-%COMP%]{width:120px;flex-shrink:0}.booking-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.booking-card__details[_ngcontent-%COMP%]{flex:1;padding:1.5rem;display:flex;flex-direction:column;gap:.5rem}.booking-card__status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px;width:fit-content}.booking-card__status--confirmed[_ngcontent-%COMP%]{background-color:#10b9811a;color:#10b981}.booking-card__status--completed[_ngcontent-%COMP%]{background-color:#3b82f61a;color:#3b82f6}.booking-card__status--cancelled[_ngcontent-%COMP%]{background-color:#ef44441a;color:#ef4444}.booking-card__status--pending[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:#f59e0b}.booking-card__title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.booking-card__dates[_ngcontent-%COMP%], .booking-card__guests[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#64748b;margin:0}.booking-card__dates[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .booking-card__guests[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#94a3b8;width:1rem}.booking-card__price[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#2563eb;margin:0}.booking-card__actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1.5rem;border-left:1px solid #e2e8f0;min-width:120px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.5rem 1rem;border:1px solid transparent;border-radius:.5rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:.875rem;font-weight:500;line-height:1.5;text-decoration:none;cursor:pointer;transition:all .15s ease-in-out;-webkit-user-select:none;user-select:none}.btn[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;outline-offset:2px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn--primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border-color:#2563eb}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#134cca;border-color:#134cca}.btn--primary[_ngcontent-%COMP%]:active:not(:disabled){background-color:#1043b3;border-color:#1043b3}.btn--secondary[_ngcontent-%COMP%]{background-color:#64748b;color:#fff;border-color:#64748b}.btn--secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4f5b6d;border-color:#4f5b6d}.btn--secondary[_ngcontent-%COMP%]:active:not(:disabled){background-color:#444f5f;border-color:#444f5f}.btn--outline[_ngcontent-%COMP%]{background-color:transparent;color:#1e293b;border-color:#cbd5e1}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0000;border-color:#abbbce}.btn--outline[_ngcontent-%COMP%]:active:not(:disabled){background-color:#0000;border-color:#9aaec5}.btn--success[_ngcontent-%COMP%]{background-color:#10b981;color:#fff;border-color:#10b981}.btn--success[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0c8a60;border-color:#0c8a60}.btn--success[_ngcontent-%COMP%]:active:not(:disabled){background-color:#0a7350;border-color:#0a7350}.btn--error[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff;border-color:#ef4444}.btn--error[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#eb1515;border-color:#eb1515}.btn--error[_ngcontent-%COMP%]:active:not(:disabled){background-color:#d41212;border-color:#d41212}.btn--small[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}@media (max-width: 639px){.booking-card[_ngcontent-%COMP%]{flex-direction:column}.booking-card__image[_ngcontent-%COMP%]{width:100%;height:150px}.booking-card__actions[_ngcontent-%COMP%]{flex-direction:row;border-left:none;border-top:1px solid #e2e8f0;min-width:auto}}"],changeDetection:0})};var Se=()=>[1,2,3];function Ie(n,t){if(n&1&&(o(0,"span",11),s(1),i()),n&2){let e=c().$implicit,r=c();a(),v(" ",r.getFilterCount(e.value)," ")}}function Ee(n,t){if(n&1){let e=h();o(0,"button",9),_("click",function(){let g=b(e).$implicit,m=c();return u(m.filterBookings(g.value))}),s(1),f(2,Ie,2,1,"span",10),i()}if(n&2){let e=t.$implicit,r=c();l("ngClass",r.getFilterClasses(e.value)),w("aria-selected",e.active),a(),v(" ",e.label," "),a(),l("ngIf",r.getFilterCount(e.value)>0)}}function Te(n,t){n&1&&(o(0,"div",14),d(1,"div",15),o(2,"div",16),d(3,"div",17)(4,"div",18)(5,"div",18),i()())}function Be(n,t){n&1&&(o(0,"div",12),f(1,Te,6,0,"div",13),i()),n&2&&(a(),l("ngForOf",N(1,Se)))}function ze(n,t){if(n&1){let e=h();o(0,"app-booking-card",21),_("action",function(g){b(e);let m=c(2);return u(m.onBookingAction(g))}),i()}if(n&2){let e=t.$implicit;l("booking",e)("showActions",!0)}}function Ae(n,t){if(n&1&&(o(0,"div",19),f(1,ze,1,2,"app-booking-card",20),i()),n&2){let e=c();a(),l("ngForOf",e.filteredBookings)("ngForTrackBy",e.trackByBookingId)}}function De(n,t){if(n&1){let e=h();o(0,"button",27),_("click",function(){b(e);let g=c(2);return u(g.filterBookings("all"))}),s(1," Ver todas las reservas "),i()}}function Ue(n,t){if(n&1&&(o(0,"div",22),d(1,"i",23),o(2,"h3",24),s(3),i(),o(4,"p",25),s(5),i(),f(6,De,2,0,"button",26),i()),n&2){let e=c();a(3),v(" ",e.activeFilter==="all"?"No tienes reservas":"No hay reservas "+e.getFilterLabel()," "),a(2),v(" ",e.getEmptyStateMessage()," "),a(),l("ngIf",e.activeFilter!=="all")}}var $=class n{bookings=[];isLoading=!1;bookingAction=new p;filterChange=new p;filteredBookings=[];activeFilter="all";bookingFilters=[{id:"all",label:"Todas",value:"all",active:!0},{id:"upcoming",label:"Pr\xF3ximas",value:"upcoming",active:!1},{id:"completed",label:"Completadas",value:"completed",active:!1},{id:"cancelled",label:"Canceladas",value:"cancelled",active:!1}];ngOnInit(){this.filterBookings()}ngOnChanges(t){t.bookings&&this.filterBookings()}filterBookings(t){switch(t&&(this.activeFilter=t,this.updateFilterStates(t),this.filterChange.emit(t)),this.activeFilter){case"upcoming":this.filteredBookings=this.bookings.filter(e=>e.status==="confirmed"||e.status==="pending");break;case"completed":this.filteredBookings=this.bookings.filter(e=>e.status==="completed");break;case"cancelled":this.filteredBookings=this.bookings.filter(e=>e.status==="cancelled");break;default:this.filteredBookings=[...this.bookings]}}updateFilterStates(t){this.bookingFilters=this.bookingFilters.map(e=>B(y({},e),{active:e.value===t}))}getFilterClasses(t){return{"bookings__filter-btn":!0,"bookings__filter-btn--active":this.activeFilter===t}}getFilterLabel(){let t=this.bookingFilters.find(e=>e.value===this.activeFilter);return t?t.label:"Todas"}getEmptyStateMessage(){switch(this.activeFilter){case"upcoming":return"No tienes reservas pr\xF3ximas. \xA1Planifica tu pr\xF3ximo viaje!";case"completed":return"No tienes reservas completadas.";case"cancelled":return"No tienes reservas canceladas.";default:return"No tienes reservas. \xA1Empieza a explorar destinos!"}}onBookingAction(t){this.bookingAction.emit(t)}trackByBookingId(t,e){return e.id}trackByFilterId(t,e){return e.id}getFilterCount(t){switch(t){case"upcoming":return this.bookings.filter(e=>e.status==="confirmed"||e.status==="pending").length;case"completed":return this.bookings.filter(e=>e.status==="completed").length;case"cancelled":return this.bookings.filter(e=>e.status==="cancelled").length;default:return this.bookings.length}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-bookings"]],inputs:{bookings:"bookings",isLoading:"isLoading"},outputs:{bookingAction:"bookingAction",filterChange:"filterChange"},features:[z],decls:11,vars:5,consts:[[1,"bookings-section"],[1,"content-header"],[1,"content-header__title"],[1,"content-header__description"],["role","tablist","aria-label","Filtros de reservas",1,"bookings__filters"],["type","button","class","bookings__filter-btn","role","tab",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","loading-state",4,"ngIf"],["class","bookings-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["type","button","role","tab",1,"bookings__filter-btn",3,"click","ngClass"],["class","bookings__filter-count",4,"ngIf"],[1,"bookings__filter-count"],[1,"loading-state"],["class","loading-skeleton",4,"ngFor","ngForOf"],[1,"loading-skeleton"],[1,"skeleton","skeleton--image"],[1,"skeleton","skeleton--content"],[1,"skeleton","skeleton--title"],[1,"skeleton","skeleton--text"],[1,"bookings-list"],[3,"booking","showActions","action",4,"ngFor","ngForOf","ngForTrackBy"],[3,"action","booking","showActions"],[1,"empty-state"],["aria-hidden","true",1,"fas","fa-suitcase","empty-state__icon"],[1,"empty-state__title"],[1,"empty-state__description"],["type","button","class","btn btn--outline",3,"click",4,"ngIf"],["type","button",1,"btn","btn--outline",3,"click"]],template:function(e,r){e&1&&(o(0,"section",0)(1,"header",1)(2,"h2",2),s(3,"Mis Reservas"),i(),o(4,"p",3),s(5," Gestiona todas tus reservas de viajes "),i()(),o(6,"div",4),f(7,Ee,3,4,"button",5),i(),f(8,Be,2,2,"div",6)(9,Ae,2,2,"div",7)(10,Ue,7,3,"div",8),i()),e&2&&(a(7),l("ngForOf",r.bookingFilters)("ngForTrackBy",r.trackByFilterId),a(),l("ngIf",r.isLoading),a(),l("ngIf",!r.isLoading&&r.filteredBookings.length>0),a(),l("ngIf",!r.isLoading&&r.filteredBookings.length===0))},dependencies:[x,A,F,P,q],styles:["@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.bookings-section[_ngcontent-%COMP%]{width:100%}.content-header[_ngcontent-%COMP%]{margin-bottom:3rem}.content-header__title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.content-header__description[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0}.bookings__filters[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:2rem;padding:.5rem;background-color:#fff;border-radius:.75rem;border:1px solid #e2e8f0;flex-wrap:wrap}.bookings__filter-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border:1px solid transparent;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-weight:500;line-height:1.5;text-decoration:none;cursor:pointer;transition:all .15s ease-in-out;-webkit-user-select:none;user-select:none;padding:.5rem 1rem;background-color:transparent;color:#64748b;border:none;border-radius:.5rem;font-size:.875rem;position:relative}.bookings__filter-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.bookings__filter-btn[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:#1e293b}.bookings__filter-btn[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;outline-offset:2px}.bookings__filter-btn--active[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}.bookings__filter-btn--active[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.bookings__filter-count[_ngcontent-%COMP%]{margin-left:.25rem;background-color:#fff3;color:inherit;padding:2px 6px;border-radius:.375rem;font-size:.75rem;font-weight:600}.bookings-list[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.loading-skeleton[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;display:flex;overflow:hidden;padding:0}.loading-skeleton[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1f5f9 25%,#f8fafc,#f1f5f9 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:.5rem}.skeleton--image[_ngcontent-%COMP%]{width:120px;height:120px;flex-shrink:0}.skeleton--content[_ngcontent-%COMP%]{flex:1;padding:1.5rem;display:flex;flex-direction:column;gap:.5rem}.skeleton--title[_ngcontent-%COMP%]{height:24px;width:70%}.skeleton--text[_ngcontent-%COMP%]{height:16px;width:90%}.skeleton--text[_ngcontent-%COMP%]:last-child{width:50%}.empty-state[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;padding:4rem;text-align:center;color:#94a3b8}.empty-state[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.empty-state__icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1.5rem;opacity:.5}.empty-state__title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#64748b;margin:0 0 1rem}.empty-state__description[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 1.5rem;max-width:400px;margin-left:auto;margin-right:auto}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.5rem 1rem;border:1px solid transparent;border-radius:.5rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:.875rem;font-weight:500;line-height:1.5;text-decoration:none;cursor:pointer;transition:all .15s ease-in-out;-webkit-user-select:none;user-select:none}.btn[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;outline-offset:2px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn--outline[_ngcontent-%COMP%]{background-color:transparent;color:#1e293b;border-color:#cbd5e1}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0000;border-color:#abbbce}.btn--outline[_ngcontent-%COMP%]:active:not(:disabled){background-color:#0000;border-color:#9aaec5}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f1f5f9}@media (max-width: 639px){.bookings-list[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{grid-template-columns:1fr}.bookings__filters[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.bookings__filter-btn[_ngcontent-%COMP%]{justify-content:space-between}}@media (min-width: 768px) and (max-width: 1023px){.bookings-list[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],changeDetection:0})};function Ne(n,t){if(n&1){let e=h();o(0,"button",8),_("click",function(g){b(e);let m=c();return u(m.onRemove(g))}),d(1,"i",9),i()}if(n&2){let e=c();w("aria-label","Eliminar "+e.favorite.title+" de favoritos")}}var Y=class n{favorite;showRemoveButton=!0;remove=new p;click=new p;onRemove(t){t.stopPropagation(),this.remove.emit(this.favorite.id)}onClick(){this.click.emit(this.favorite)}formatPrice(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-user-favorite-card"]],inputs:{favorite:"favorite",showRemoveButton:"showRemoveButton"},outputs:{remove:"remove",click:"click"},decls:11,vars:6,consts:[[1,"favorite-card",3,"click"],[1,"favorite-card__image"],["loading","lazy",3,"src","alt"],["type","button","class","favorite-card__remove",3,"click",4,"ngIf"],[1,"favorite-card__content"],[1,"favorite-card__title"],[1,"favorite-card__description"],[1,"favorite-card__price"],["type","button",1,"favorite-card__remove",3,"click"],["aria-hidden","true",1,"fas","fa-heart"]],template:function(e,r){e&1&&(o(0,"article",0),_("click",function(){return r.onClick()}),o(1,"div",1),d(2,"img",2),f(3,Ne,2,1,"button",3),i(),o(4,"div",4)(5,"h3",5),s(6),i(),o(7,"p",6),s(8),i(),o(9,"div",7),s(10),i()()()),e&2&&(a(2),l("src",r.favorite.imageUrl,U)("alt",r.favorite.title),a(),l("ngIf",r.showRemoveButton),a(3),M(r.favorite.title),a(2),M(r.favorite.description),a(2),v(" Desde ",r.formatPrice(r.favorite.price)," "))},dependencies:[x,P],styles:['@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.favorite-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;overflow:hidden;cursor:pointer;transition:all .25s ease-in-out;position:relative;height:100%;display:flex;flex-direction:column}.favorite-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.favorite-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a}.favorite-card[_ngcontent-%COMP%]:focus-within{outline:2px solid #2563eb;outline-offset:2px}.favorite-card__image[_ngcontent-%COMP%]{position:relative;height:200px;overflow:hidden;flex-shrink:0}.favorite-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .35s ease-in-out}.favorite-card__image[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,transparent 0%,transparent 60%,rgba(0,0,0,.1) 100%);pointer-events:none}.favorite-card[_ngcontent-%COMP%]:hover   .favorite-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.favorite-card__remove[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;width:40px;height:40px;background-color:#ffffffe6;color:#ef4444;border:none;border-radius:9999px;cursor:pointer;transition:all .15s ease-in-out;display:flex;align-items:center;justify-content:center;flex-direction:row;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:2;opacity:0;transform:scale(.8)}.favorite-card__remove[_ngcontent-%COMP%]:hover{background-color:#ef4444;color:#fff;transform:scale(1.1)}.favorite-card__remove[_ngcontent-%COMP%]:focus{outline:2px solid #ef4444;outline-offset:2px;opacity:1;transform:scale(1)}.favorite-card__remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;transition:transform .15s ease-in-out}.favorite-card__remove[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.favorite-card[_ngcontent-%COMP%]:hover   .favorite-card__remove[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.favorite-card__content[_ngcontent-%COMP%]{padding:1.5rem;flex:1;display:flex;flex-direction:column;gap:.5rem}.favorite-card__title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:calc(1.125rem * 1.3 * 2)}.favorite-card__description[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}.favorite-card__price[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#2563eb;margin-top:auto;padding-top:.5rem;border-top:1px solid #e2e8f0}.favorite-card__price[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:4px;background-color:#2563eb;border-radius:9999px;margin-right:.25rem;vertical-align:middle}.favorite-card--loading[_ngcontent-%COMP%]{pointer-events:none}.favorite-card--loading[_ngcontent-%COMP%]   .favorite-card__image[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1f5f9 25%,#f8fafc,#f1f5f9 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}.favorite-card--loading[_ngcontent-%COMP%]   .favorite-card__title[_ngcontent-%COMP%], .favorite-card--loading[_ngcontent-%COMP%]   .favorite-card__description[_ngcontent-%COMP%], .favorite-card--loading[_ngcontent-%COMP%]   .favorite-card__price[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1f5f9 25%,#f8fafc,#f1f5f9 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:.375rem}.favorite-card--loading[_ngcontent-%COMP%]   .favorite-card__title[_ngcontent-%COMP%]{height:24px;width:80%}.favorite-card--loading[_ngcontent-%COMP%]   .favorite-card__description[_ngcontent-%COMP%]{height:60px;width:100%}.favorite-card--loading[_ngcontent-%COMP%]   .favorite-card__price[_ngcontent-%COMP%]{height:20px;width:60%}.favorite-card--compact[_ngcontent-%COMP%]   .favorite-card__image[_ngcontent-%COMP%]{height:150px}.favorite-card--compact[_ngcontent-%COMP%]   .favorite-card__content[_ngcontent-%COMP%]{padding:1rem}.favorite-card--compact[_ngcontent-%COMP%]   .favorite-card__title[_ngcontent-%COMP%]{font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-height:auto}.favorite-card--compact[_ngcontent-%COMP%]   .favorite-card__description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.favorite-card--featured[_ngcontent-%COMP%]{border:2px solid #2563eb}.favorite-card--featured[_ngcontent-%COMP%]:before{content:"Destacado";position:absolute;top:1rem;left:1rem;background-color:#2563eb;color:#fff;padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;z-index:2}@media (max-width: 639px){.favorite-card__image[_ngcontent-%COMP%]{height:180px}.favorite-card__content[_ngcontent-%COMP%]{padding:1rem}.favorite-card__remove[_ngcontent-%COMP%]{width:36px;height:36px;top:.5rem;right:.5rem;opacity:1;transform:scale(1);background-color:#fffffff2}.favorite-card__title[_ngcontent-%COMP%]{font-size:1rem}.favorite-card__description[_ngcontent-%COMP%]{font-size:.75rem}.favorite-card__price[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 768px) and (max-width: 1023px){.favorite-card__image[_ngcontent-%COMP%]{height:160px}.favorite-card__title[_ngcontent-%COMP%]{font-size:1rem}}@media (prefers-reduced-motion: reduce){.favorite-card[_ngcontent-%COMP%]:hover{transform:none}.favorite-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .favorite-card__remove[_ngcontent-%COMP%]{transition:none}}@media (prefers-contrast: high){.favorite-card[_ngcontent-%COMP%]{border:2px solid #1e293b}.favorite-card__remove[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #ef4444}.favorite-card__price[_ngcontent-%COMP%]{border-top:2px solid #94a3b8}}.favorite-card[_ngcontent-%COMP%]:focus-visible{outline:3px solid #2563eb;outline-offset:2px}.favorite-card__remove[_ngcontent-%COMP%]:focus-visible{outline:2px solid #ef4444;outline-offset:2px}@media print{.favorite-card[_ngcontent-%COMP%]{break-inside:avoid;box-shadow:none;border:1px solid #cbd5e1}.favorite-card__remove[_ngcontent-%COMP%]{display:none}.favorite-card__image[_ngcontent-%COMP%]{height:120px}.favorite-card[_ngcontent-%COMP%]:hover{transform:none}}@media (prefers-color-scheme: dark){.favorite-card__remove[_ngcontent-%COMP%]{background-color:#1e293be6}.favorite-card__image[_ngcontent-%COMP%]:after{background:linear-gradient(135deg,transparent 0%,transparent 60%,rgba(255,255,255,.05) 100%)}}'],changeDetection:0})};var Ve=()=>[1,2,3,4,5,6];function Le(n,t){if(n&1){let e=h();o(0,"button",8),_("click",function(){b(e);let g=c();return u(g.onViewAll())}),s(1),i()}if(n&2){let e=c();a(),v(" Ver todos (",e.favorites.length,") ")}}function Re(n,t){n&1&&(o(0,"div",11),d(1,"div",12),o(2,"div",13),d(3,"div",14)(4,"div",15)(5,"div",16),i()())}function je(n,t){n&1&&(o(0,"div",9),f(1,Re,6,0,"div",10),i()),n&2&&(a(),l("ngForOf",N(1,Ve)))}function qe(n,t){if(n&1){let e=h();o(0,"app-user-favorite-card",19),_("remove",function(g){b(e);let m=c(2);return u(m.onRemoveFavorite(g))})("click",function(g){b(e);let m=c(2);return u(m.onFavoriteClick(g))}),i()}if(n&2){let e=t.$implicit,r=c(2);l("favorite",e)("showRemoveButton",r.showRemoveButton)}}function $e(n,t){if(n&1&&(o(0,"div",17),f(1,qe,1,2,"app-user-favorite-card",18),i()),n&2){let e=c();a(),l("ngForOf",e.favorites)("ngForTrackBy",e.trackByFavoriteId)}}function Ye(n,t){if(n&1){let e=h();o(0,"div",20),d(1,"i",21),o(2,"h3",22),s(3,"No tienes favoritos"),i(),o(4,"p",23),s(5),i(),o(6,"button",24),_("click",function(){b(e);let g=c();return u(g.onViewAll())}),s(7," Explorar destinos "),i()()}if(n&2){let e=c();a(5),v(" ",e.getEmptyStateMessage()," ")}}var G=class n{favorites=[];isLoading=!1;showRemoveButton=!0;maxDisplay=6;showViewAll=!0;remove=new p;click=new p;viewAll=new p;onRemoveFavorite(t){this.remove.emit(t)}onFavoriteClick(t){this.click.emit(t)}onViewAll(){this.viewAll.emit()}getDisplayedFavorites(){return this.favorites.slice(0,this.maxDisplay)}hasMoreFavorites(){return this.favorites.length>this.maxDisplay}getEmptyStateMessage(){return"Guarda destinos y paquetes que te interesen para encontrarlos f\xE1cilmente aqu\xED."}trackByFavoriteId(t,e){return e.id}getSkeletonArray(){return Array(Math.min(this.maxDisplay,6)).fill(0).map((t,e)=>e)}getFavoritesStats(){return{total:this.favorites.length,displayed:this.getDisplayedFavorites().length,hidden:Math.max(0,this.favorites.length-this.maxDisplay)}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-favorites"]],inputs:{favorites:"favorites",isLoading:"isLoading",showRemoveButton:"showRemoveButton",maxDisplay:"maxDisplay",showViewAll:"showViewAll"},outputs:{remove:"remove",click:"click",viewAll:"viewAll"},decls:10,vars:4,consts:[[1,"favorites-section"],[1,"content-header"],[1,"content-header__title"],[1,"content-header__description"],["type","button","class","btn btn--outline btn--small content-header__action",3,"click",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","favorites-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["type","button",1,"btn","btn--outline","btn--small","content-header__action",3,"click"],[1,"loading-state"],["class","loading-skeleton",4,"ngFor","ngForOf"],[1,"loading-skeleton"],[1,"skeleton","skeleton--image"],[1,"skeleton","skeleton--content"],[1,"skeleton","skeleton--title"],[1,"skeleton","skeleton--text"],[1,"skeleton","skeleton--price"],[1,"favorites-grid"],[3,"favorite","showRemoveButton","remove","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"remove","click","favorite","showRemoveButton"],[1,"empty-state"],["aria-hidden","true",1,"fas","fa-heart","empty-state__icon"],[1,"empty-state__title"],[1,"empty-state__description"],["type","button",1,"btn","btn--primary",3,"click"]],template:function(e,r){e&1&&(o(0,"section",0)(1,"header",1)(2,"h2",2),s(3,"Mis Favoritos"),i(),o(4,"p",3),s(5," Destinos y paquetes que has guardado "),i(),f(6,Le,2,1,"button",4),i(),f(7,je,2,2,"div",5)(8,$e,2,2,"div",6)(9,Ye,8,1,"div",7),i()),e&2&&(a(6),l("ngIf",r.favorites.length>6),a(),l("ngIf",r.isLoading),a(),l("ngIf",!r.isLoading&&r.favorites.length>0),a(),l("ngIf",!r.isLoading&&r.favorites.length===0))},dependencies:[x,F,P,Y],styles:["@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.favorites-section[_ngcontent-%COMP%]{width:100%}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:3rem;flex-wrap:wrap;gap:1rem}.content-header__title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0}.content-header__description[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0;flex:1}.content-header__action[_ngcontent-%COMP%]{flex-shrink:0}.favorites-grid[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem}.loading-skeleton[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;overflow:hidden;padding:0}.loading-skeleton[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1f5f9 25%,#f8fafc,#f1f5f9 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}.skeleton--image[_ngcontent-%COMP%]{height:200px;width:100%}.skeleton--content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:.5rem}.skeleton--title[_ngcontent-%COMP%]{height:20px;width:80%;border-radius:.375rem}.skeleton--text[_ngcontent-%COMP%]{height:16px;width:100%;border-radius:.375rem}.skeleton--text[_ngcontent-%COMP%]:last-of-type{width:60%}.skeleton--price[_ngcontent-%COMP%]{height:18px;width:40%;border-radius:.375rem;margin-top:.5rem}.empty-state[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;padding:4rem;text-align:center;color:#94a3b8}.empty-state[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.empty-state__icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1.5rem;opacity:.5;color:#ef4444}.empty-state__title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#64748b;margin:0 0 1rem}.empty-state__description[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 1.5rem;max-width:400px;margin-left:auto;margin-right:auto;line-height:1.6}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.5rem 1rem;border:1px solid transparent;border-radius:.5rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:.875rem;font-weight:500;line-height:1.5;text-decoration:none;cursor:pointer;transition:all .15s ease-in-out;-webkit-user-select:none;user-select:none}.btn[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;outline-offset:2px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn--primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border-color:#2563eb}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#134cca;border-color:#134cca}.btn--primary[_ngcontent-%COMP%]:active:not(:disabled){background-color:#1043b3;border-color:#1043b3}.btn--outline[_ngcontent-%COMP%]{background-color:transparent;color:#1e293b;border-color:#cbd5e1}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0000;border-color:#abbbce}.btn--outline[_ngcontent-%COMP%]:active:not(:disabled){background-color:#0000;border-color:#9aaec5}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f1f5f9}.btn--small[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}@media (max-width: 639px){.favorites-grid[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{grid-template-columns:1fr}.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.content-header__action[_ngcontent-%COMP%]{align-self:flex-start}}@media (min-width: 768px) and (max-width: 1023px){.favorites-grid[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"],changeDetection:0})};function Ge(n,t){n&1&&(o(0,"div",5)(1,"div",6),d(2,"i",7),o(3,"span"),s(4,"Cargando..."),i()()())}function Je(n,t){if(n&1){let e=h();o(0,"div",17)(1,"app-profile-form",18),_("save",function(g){b(e);let m=c(2);return u(m.onUserUpdate(g))})("cancel",function(){b(e);let g=c(2);return u(g.onTabChange("personal"))}),i()()}if(n&2){let e=c(2);k("tab-content--active",e.isTabActive("personal")),a(),l("user",e.user)("isLoading",e.isLoading)}}function He(n,t){if(n&1){let e=h();o(0,"div",19)(1,"app-bookings",20),_("bookingAction",function(g){b(e);let m=c(2);return u(m.onBookingAction(g))}),i()()}if(n&2){let e=c(2);k("tab-content--active",e.isTabActive("bookings")),a(),l("bookings",e.bookings)("isLoading",e.isLoading)}}function Ke(n,t){if(n&1){let e=h();o(0,"div",21)(1,"app-favorites",22),_("remove",function(g){b(e);let m=c(2);return u(m.onFavoriteRemove(g))})("click",function(g){b(e);let m=c(2);return u(m.onFavoriteClick(g))}),i()()}if(n&2){let e=c(2);k("tab-content--active",e.isTabActive("favorites")),a(),l("favorites",e.favorites)("isLoading",e.isLoading)("showRemoveButton",!0)}}function Qe(n,t){if(n&1&&(o(0,"div",23)(1,"div",24)(2,"div",25),d(3,"i",26),i(),o(4,"h2"),s(5,"M\xE9todos de Pago"),i(),o(6,"p"),s(7,"Gestiona tus tarjetas y m\xE9todos de pago preferidos."),i(),o(8,"p",27),s(9,"Secci\xF3n en desarrollo..."),i()()()),n&2){let e=c(2);k("tab-content--active",e.isTabActive("payments"))}}function We(n,t){if(n&1&&(o(0,"div",28)(1,"div",24)(2,"div",25),d(3,"i",29),i(),o(4,"h2"),s(5,"Seguridad"),i(),o(6,"p"),s(7,"Configura la seguridad de tu cuenta y privacidad."),i(),o(8,"p",27),s(9,"Secci\xF3n en desarrollo..."),i()()()),n&2){let e=c(2);k("tab-content--active",e.isTabActive("security"))}}function Xe(n,t){if(n&1&&(o(0,"div",30)(1,"div",24)(2,"div",25),d(3,"i",31),i(),o(4,"h2"),s(5,"Notificaciones"),i(),o(6,"p"),s(7,"Personaliza c\xF3mo y cu\xE1ndo recibir notificaciones."),i(),o(8,"p",27),s(9,"Secci\xF3n en desarrollo..."),i()()()),n&2){let e=c(2);k("tab-content--active",e.isTabActive("notifications"))}}function Ze(n,t){if(n&1){let e=h();o(0,"div",8)(1,"app-sidebar",9),_("tabChange",function(g){b(e);let m=c();return u(m.onTabChange(g))})("avatarChange",function(g){b(e);let m=c();return u(m.onAvatarChange(g))}),i(),o(2,"main",10),f(3,Je,2,4,"div",11)(4,He,2,4,"div",12)(5,Ke,2,5,"div",13)(6,Qe,10,2,"div",14)(7,We,10,2,"div",15)(8,Xe,10,2,"div",16),i()()}if(n&2){let e=c();a(),l("user",e.user)("tabs",e.tabs)("activeTab",e.activeTab)("showStats",e.config.showStats)("allowAvatarEdit",e.config.allowAvatarEdit),a(),w("aria-label",e.getActiveTabTitle()),a(),l("ngIf",e.isTabActive("personal")),a(),l("ngIf",e.isTabActive("bookings")),a(),l("ngIf",e.isTabActive("favorites")),a(),l("ngIf",e.isTabActive("payments")),a(),l("ngIf",e.isTabActive("security")),a(),l("ngIf",e.isTabActive("notifications")&&e.config.enableNotifications)}}function et(n,t){n&1&&(o(0,"div",5)(1,"div",6),d(2,"i",7),o(3,"span"),s(4,"Cargando datos del usuario..."),i()()())}var _e=class n{constructor(t,e,r,g){this.cdr=t;this.userService=e;this.authService=r;this.router=g}bookings=[];favorites=[];config={showStats:!0,allowAvatarEdit:!0,enableNotifications:!0};isLoading=!1;userUpdated=new p;tabChanged=new p;avatarChanged=new p;bookingAction=new p;favoriteRemoved=new p;favoriteClicked=new p;user=null;activeTab="personal";error=null;tabs=[{id:"personal",label:"Informaci\xF3n Personal",icon:"fas fa-user",active:!0},{id:"bookings",label:"Mis Reservas",icon:"fas fa-suitcase",active:!1},{id:"favorites",label:"Favoritos",icon:"fas fa-heart",active:!1},{id:"payments",label:"M\xE9todos de Pago",icon:"fas fa-credit-card",active:!1},{id:"security",label:"Seguridad",icon:"fas fa-shield-alt",active:!1},{id:"notifications",label:"Notificaciones",icon:"fas fa-bell",active:!1}];destroy$=new J;ngOnInit(){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}this.userService.getMe().pipe(Q(this.destroy$),W(()=>this.isLoading=!0),K(t=>(this.error="Error al cargar los datos del usuario",this.isLoading=!1,this.cdr.markForCheck(),this.router.navigate(["/login"]),H(null)))).subscribe(t=>{this.isLoading=!1,this.user=t?y({},t):null,this.user?this.loadBookingsAndFavorites(this.user.id):(this.error="No se encontraron datos del usuario",this.router.navigate(["/login"])),this.updateTabStates(),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onTabChange(t){this.activeTab!==t&&(this.activeTab=t,this.updateTabStates(),this.tabChanged.emit(t),this.cdr.markForCheck())}isTabActive(t){return this.activeTab===t}onUserUpdate(t){this.user=t,this.userUpdated.emit(t),this.cdr.markForCheck()}onAvatarChange(t){this.avatarChanged.emit(t)}onBookingAction(t){this.bookingAction.emit(t)}onFavoriteRemove(t){this.favoriteRemoved.emit(t)}onFavoriteClick(t){this.favoriteClicked.emit(t)}updateTabStates(){this.tabs=this.tabs.map(t=>B(y({},t),{active:t.id===this.activeTab}))}getActiveTabTitle(){return this.tabs.find(e=>e.id===this.activeTab)?.label||"Panel de Usuario"}getDashboardStats(){return{totalBookings:this.bookings.length,upcomingBookings:this.bookings.filter(t=>t.status==="confirmed").length,completedBookings:this.bookings.filter(t=>t.status==="completed").length,totalFavorites:this.favorites.length}}loadBookingsAndFavorites(t){this.bookings=[{id:"1",title:"Viaje a Paris",destination:"Paris, France",startDate:"2025-08-01",endDate:"2025-08-07",guests:2,price:1500,status:"confirmed",imageUrl:"https://images.unsplash.com/photo-1560448204-603b3fc33ddc?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"},{id:"2",title:"Viaje a Tokyo",destination:"Tokyo, Japan",startDate:"2025-06-01",endDate:"2025-06-10",guests:1,price:2e3,status:"completed",imageUrl:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"}],this.favorites=[{id:"f1",title:"Rome",description:"City tour",price:800,imageUrl:"https://images.unsplash.com/photo-1515542622106-78bda8ba0e5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"}],this.cdr.markForCheck()}static \u0275fac=function(e){return new(e||n)(O(V),O(re),O(ie),O(oe))};static \u0275cmp=C({type:n,selectors:[["app-user-dashboard"]],inputs:{bookings:"bookings",favorites:"favorites",config:"config",isLoading:"isLoading"},outputs:{userUpdated:"userUpdated",tabChanged:"tabChanged",avatarChanged:"avatarChanged",bookingAction:"bookingAction",favoriteRemoved:"favoriteRemoved",favoriteClicked:"favoriteClicked"},decls:6,vars:3,consts:[["loadingTemplate",""],["role","main","aria-label","Panel de usuario",1,"user-dashboard"],[1,"user-dashboard__container"],["class","loading-overlay",4,"ngIf"],["class","user-dashboard__layout",4,"ngIf","ngIfElse"],[1,"loading-overlay"],[1,"loading-spinner"],["aria-hidden","true",1,"fas","fa-spinner","fa-spin"],[1,"user-dashboard__layout"],[1,"user-dashboard__sidebar",3,"tabChange","avatarChange","user","tabs","activeTab","showStats","allowAvatarEdit"],[1,"user-dashboard__content"],["class","tab-content","role","tabpanel","aria-labelledby","personal-tab",3,"tab-content--active",4,"ngIf"],["class","tab-content","role","tabpanel","aria-labelledby","bookings-tab",3,"tab-content--active",4,"ngIf"],["class","tab-content","role","tabpanel","aria-labelledby","favorites-tab",3,"tab-content--active",4,"ngIf"],["class","tab-content","role","tabpanel","aria-labelledby","payments-tab",3,"tab-content--active",4,"ngIf"],["class","tab-content","role","tabpanel","aria-labelledby","security-tab",3,"tab-content--active",4,"ngIf"],["class","tab-content","role","tabpanel","aria-labelledby","notifications-tab",3,"tab-content--active",4,"ngIf"],["role","tabpanel","aria-labelledby","personal-tab",1,"tab-content"],[3,"save","cancel","user","isLoading"],["role","tabpanel","aria-labelledby","bookings-tab",1,"tab-content"],[3,"bookingAction","bookings","isLoading"],["role","tabpanel","aria-labelledby","favorites-tab",1,"tab-content"],[3,"remove","click","favorites","isLoading","showRemoveButton"],["role","tabpanel","aria-labelledby","payments-tab",1,"tab-content"],[1,"content-placeholder"],[1,"placeholder-icon"],["aria-hidden","true",1,"fas","fa-credit-card"],[1,"placeholder-status"],["role","tabpanel","aria-labelledby","security-tab",1,"tab-content"],["aria-hidden","true",1,"fas","fa-shield-alt"],["role","tabpanel","aria-labelledby","notifications-tab",1,"tab-content"],["aria-hidden","true",1,"fas","fa-bell"]],template:function(e,r){if(e&1&&(o(0,"section",1)(1,"div",2),f(2,Ge,5,0,"div",3)(3,Ze,9,12,"div",4)(4,et,5,0,"ng-template",null,0,te),i()()),e&2){let g=Z(5);a(2),l("ngIf",r.isLoading),a(),l("ngIf",r.user)("ngIfElse",g)}},dependencies:[x,P,R,j,$,G],styles:["@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.user-dashboard[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8fafc;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;position:relative}.user-dashboard__container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:1.5rem;position:relative}.user-dashboard__layout[_ngcontent-%COMP%]{display:flex;gap:3rem;align-items:flex-start}.user-dashboard__sidebar[_ngcontent-%COMP%]{width:350px;flex-shrink:0;position:sticky;top:1.5rem;z-index:10}.user-dashboard__content[_ngcontent-%COMP%]{flex:1;min-width:0;position:relative}.tab-content[_ngcontent-%COMP%]{display:none;animation:_ngcontent-%COMP%_fadeIn .25s ease-in-out ease-in-out}.tab-content--active[_ngcontent-%COMP%]{display:block}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#ffffffe6;display:flex;align-items:center;justify-content:center;flex-direction:row;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:1rem;padding:2rem;background-color:#fff;border-radius:.75rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;color:#64748b}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#2563eb}.loading-spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.content-placeholder[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 1px 2px #0000000d;transition:box-shadow .25s ease-in-out;padding:4rem;text-align:center;color:#94a3b8}.content-placeholder[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.content-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.content-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#94a3b8;opacity:.5}.content-placeholder[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#64748b;margin:0 0 1rem}.content-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .5rem;max-width:400px;margin-left:auto;margin-right:auto;line-height:1.6}.content-placeholder[_ngcontent-%COMP%]   .placeholder-status[_ngcontent-%COMP%]{font-size:.875rem;color:#f59e0b;font-weight:500;margin-top:1.5rem}@media (max-width: 639px){.user-dashboard__container[_ngcontent-%COMP%]{padding:1rem}.user-dashboard__layout[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.user-dashboard__sidebar[_ngcontent-%COMP%]{width:100%;position:static;order:2}.user-dashboard__content[_ngcontent-%COMP%]{order:1;width:100%}.content-placeholder[_ngcontent-%COMP%]{padding:2rem}.content-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}.content-placeholder[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 768px) and (max-width: 1023px){.user-dashboard__layout[_ngcontent-%COMP%]{gap:2rem}.user-dashboard__sidebar[_ngcontent-%COMP%]{width:280px}}@media (min-width: 1024px){.user-dashboard__container[_ngcontent-%COMP%]{padding:3rem}.user-dashboard__layout[_ngcontent-%COMP%]{gap:4rem}.user-dashboard__sidebar[_ngcontent-%COMP%]{width:380px}}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.user-dashboard__sidebar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromLeft .3s ease-out}.user-dashboard__content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromRight .3s ease-out}@media (prefers-reduced-motion: reduce){.user-dashboard__sidebar[_ngcontent-%COMP%], .user-dashboard__content[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%], .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:none!important}}.user-dashboard[_ngcontent-%COMP%]:focus-within   .user-dashboard__sidebar[_ngcontent-%COMP%]{outline:2px solid #2563eb;outline-offset:4px;border-radius:.75rem}@media print{.user-dashboard[_ngcontent-%COMP%]{background-color:#fff}.user-dashboard__sidebar[_ngcontent-%COMP%]{display:none}.user-dashboard__layout[_ngcontent-%COMP%]{flex-direction:column}.user-dashboard__content[_ngcontent-%COMP%]{width:100%}.loading-overlay[_ngcontent-%COMP%], .content-placeholder[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})};export{_e as UserPanel};
