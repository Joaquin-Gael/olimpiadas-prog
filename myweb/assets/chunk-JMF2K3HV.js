import{a as st,b as dt}from"./chunk-LPUTRXGN.js";import{a as ct}from"./chunk-I2PHBNL6.js";import{c as F,d as ot,m as G,n as k,o as j}from"./chunk-BHTYGTD2.js";import{$ as z,Ab as s,Bb as x,Cb as w,Db as D,E as r,Ec as E,Fb as tt,Fc as H,Hb as A,Ib as h,Kc as C,Q as l,Sb as et,Ua as rt,Ub as it,Vb as Y,Wb as m,Xa as a,Xb as b,Y as o,Yb as L,a as S,ab as T,b as Z,bc as nt,da as B,ea as J,hb as f,ja as R,ka as I,lb as v,nb as X,p as U,s as p,t as $,vb as V,yb as u,zb as c}from"./chunk-F7PPLVIA.js";function ut(n,t){if(n&1&&(c(0,"span",25),m(1),s()),n&2){let e=h(2);a(),b(e.badge)}}function mt(n,t){if(n&1&&(c(0,"span",30),m(1),s()),n&2){let e=t.$implicit;it("filled",e===1),a(),L(" ",e===1?"star":"star_border"," ")}}function ht(n,t){if(n&1&&(c(0,"span",31),m(1),s()),n&2){let e=h(3);a(),L(" (",e.reviewsCount,") ")}}function _t(n,t){if(n&1&&(c(0,"div",26)(1,"div",27),v(2,mt,2,3,"span",28),s(),v(3,ht,2,1,"span",29),s()),n&2){let e=h(2);a(2),u("ngForOf",e.ratingStars),a(),u("ngIf",e.reviewsCount)}}function vt(n,t){if(n&1&&(c(0,"div",22),v(1,ut,2,1,"span",23)(2,_t,4,2,"div",24),s()),n&2){let e=h();a(),u("ngIf",e.badge),a(),u("ngIf",e.showRating)}}function bt(n,t){if(n&1&&(c(0,"div",32),m(1),s()),n&2){let e=h();a(),L(" ",e.badge," ")}}function Pt(n,t){if(n&1&&(c(0,"p",33),m(1),s()),n&2){let e=h();a(),b(e.description)}}function ft(n,t){if(n&1&&(c(0,"div",36)(1,"span",5),m(2),s(),c(3,"span"),m(4),s()()),n&2){let e=t.$implicit;a(2),b(e.icon),a(2),b(e.text)}}function Ct(n,t){if(n&1&&(c(0,"div",34),v(1,ft,5,2,"div",35),s()),n&2){let e=h();a(),u("ngForOf",e.packageInfo)}}function xt(n,t){if(n&1&&(c(0,"div",39)(1,"span",5),m(2),s(),c(3,"span"),m(4),s()()),n&2){let e=t.$implicit,i=h(2);a(2),b(i.getFeatureIcon(e)),a(2),b(e)}}function yt(n,t){if(n&1&&(c(0,"div",37),v(1,xt,5,2,"div",38),s()),n&2){let e=h();a(),u("ngForOf",e.displayFeatures)}}function Ot(n,t){if(n&1&&(c(0,"span",40),m(1),s()),n&2){let e=h();a(),b(e.formattedOriginalPrice)}}function Mt(n,t){if(n&1&&(c(0,"span",41),m(1),s()),n&2){let e=h();a(),b(e.discountPercentage)}}function Tt(n,t){n&1&&(c(0,"span",5),m(1,"add_shopping_cart"),s())}function At(n,t){n&1&&x(0,"span",42)}var q=class n{title="";description="";price=0;imageUrl="";id=0;availability_id;currency="USD";isFavorite=!1;isAddingToCart=!1;mode="product";originalPrice;discount;rating;reviewsCount;features;badge;destination;duration;maxPeople;addToCart=new X;toggleFavorite=new X;get hostClasses(){return`product-card-host product-card-host--${this.mode}`}constructor(){}onAddToCart(){this.availability_id===void 0&&this.mode==="product"||this.addToCart.emit(S({id:this.id,availability_id:this.availability_id,title:this.title,description:this.description,price:this.price,imageUrl:this.imageUrl,currency:this.currency},this.mode==="package"&&{destination:this.destination,duration:this.duration,maxPeople:this.maxPeople,features:this.features}))}onToggleFavorite(){this.isFavorite=!this.isFavorite,this.toggleFavorite.emit({id:this.id,isFavorite:this.isFavorite})}get formattedPrice(){return new Intl.NumberFormat("es-ES",{style:"currency",currency:this.currency,minimumFractionDigits:0}).format(this.price)}get formattedOriginalPrice(){return this.originalPrice?new Intl.NumberFormat("es-ES",{style:"currency",currency:this.currency,minimumFractionDigits:0}).format(this.originalPrice):null}get discountPercentage(){return this.discount?`-${Math.round(this.discount)}%`:null}get hasDiscount(){return!!(this.originalPrice&&this.discount&&this.originalPrice>this.price)}get showRating(){return this.mode==="package"&&!!(this.rating&&this.rating>0)}get ratingStars(){if(!this.rating)return[];let t=Math.floor(this.rating);return Array(5).fill(0).map((e,i)=>i<t?1:0)}get hasFeatures(){return!!(this.features&&this.features.length>0)}get displayFeatures(){return this.features?.slice(0,3)||[]}get packageInfo(){let t=[];return this.destination&&t.push({icon:"location_on",text:this.destination}),this.duration&&t.push({icon:"schedule",text:this.duration}),this.maxPeople&&t.push({icon:"group",text:`${this.maxPeople} personas`}),t}get featureIcons(){return{Vuelos:"flight",Hoteles:"hotel",Hotel:"hotel","Hoteles 4*":"hotel","Hoteles 5*":"hotel","Gu\xEDa espa\xF1ol":"person",Gu\u00EDa:"person",Desayuno:"restaurant",Comidas:"restaurant",Transporte:"directions_bus",Traslados:"directions_bus",Seguro:"security",WiFi:"wifi",Piscina:"pool",Spa:"spa",Gimnasio:"fitness_center"}}getFeatureIcon(t){let e=this.featureIcons[t];if(e)return e;let i=Object.keys(this.featureIcons).find(d=>t.toLowerCase().includes(d.toLowerCase())||d.toLowerCase().includes(t.toLowerCase()));return i?this.featureIcons[i]:"check_circle"}get isAddToCartDisabled(){return this.mode==="product"&&this.availability_id===void 0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-product-card"]],hostVars:2,hostBindings:function(e,i){e&2&&Y(i.hostClasses)},inputs:{title:"title",description:"description",price:"price",imageUrl:"imageUrl",id:"id",availability_id:"availability_id",currency:"currency",isFavorite:"isFavorite",isAddingToCart:"isAddingToCart",mode:"mode",originalPrice:"originalPrice",discount:"discount",rating:"rating",reviewsCount:"reviewsCount",features:"features",badge:"badge",destination:"destination",duration:"duration",maxPeople:"maxPeople"},outputs:{addToCart:"addToCart",toggleFavorite:"toggleFavorite"},decls:26,vars:22,consts:[[1,"product-card"],["class","product-card__header",4,"ngIf"],[1,"product-card__image"],["loading","lazy",1,"product-image",3,"src","alt"],["type","button",1,"favorite-btn",3,"click"],[1,"material-icons"],["class","image-badge",4,"ngIf"],[1,"product-card__content"],[1,"product-title"],["class","product-description",4,"ngIf"],["class","package-info",4,"ngIf"],["class","product-features",4,"ngIf"],[1,"product-footer"],[1,"product-pricing"],[1,"price-container"],[1,"product-price"],["class","original-price",4,"ngIf"],["class","discount-badge",4,"ngIf"],["type","button",1,"add-to-cart-btn",3,"click","disabled"],["class","material-icons",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"btn-text"],[1,"product-card__header"],["class","product-badge",4,"ngIf"],["class","product-rating",4,"ngIf"],[1,"product-badge"],[1,"product-rating"],[1,"rating-stars"],["class","material-icons star",3,"filled",4,"ngFor","ngForOf"],["class","rating-text",4,"ngIf"],[1,"material-icons","star"],[1,"rating-text"],[1,"image-badge"],[1,"product-description"],[1,"package-info"],["class","package-info__item",4,"ngFor","ngForOf"],[1,"package-info__item"],[1,"product-features"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"original-price"],[1,"discount-badge"],[1,"loading-spinner"]],template:function(e,i){e&1&&(c(0,"article",0),v(1,vt,3,2,"div",1),c(2,"div",2),x(3,"img",3),c(4,"button",4),A("click",function(){return i.onToggleFavorite()}),c(5,"span",5),m(6),s()(),v(7,bt,2,1,"div",6),s(),c(8,"div",7)(9,"h4",8),m(10),s(),v(11,Pt,2,1,"p",9)(12,Ct,2,1,"div",10)(13,yt,2,1,"div",11),c(14,"div",12)(15,"div",13)(16,"div",14)(17,"span",15),m(18),s(),v(19,Ot,2,1,"span",16),s(),v(20,Mt,2,1,"span",17),s(),c(21,"button",18),A("click",function(){return i.onAddToCart()}),v(22,Tt,2,0,"span",19)(23,At,1,0,"span",20),c(24,"span",21),m(25),s()()()()()),e&2&&(V("data-id",i.id)("data-mode",i.mode),a(),u("ngIf",i.mode==="package"&&(i.badge||i.showRating)),a(2),u("src",i.imageUrl,rt)("alt",i.title),a(),it("active",i.isFavorite),V("aria-label",i.isFavorite?"Quitar de favoritos":"Agregar a favoritos"),a(2),L(" ",i.isFavorite?"favorite":"favorite_border"," "),a(),u("ngIf",i.mode==="product"&&i.badge),a(3),b(i.title),a(),u("ngIf",i.description),a(),u("ngIf",i.mode==="package"&&i.packageInfo.length>0),a(),u("ngIf",i.mode==="package"&&i.hasFeatures),a(5),b(i.formattedPrice),a(),u("ngIf",i.hasDiscount),a(),u("ngIf",i.hasDiscount),a(),u("disabled",i.isAddingToCart||i.isAddToCartDisabled),V("aria-label","Agregar "+i.title+" al carrito"),a(),u("ngIf",!i.isAddingToCart),a(),u("ngIf",i.isAddingToCart),a(2),b(i.isAddingToCart?"Agregando...":"Agregar al Carrito"))},dependencies:[C,E,H],styles:['@media (max-width: 1024px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}}@media (max-width: 768px){.products-section[_ngcontent-%COMP%]{padding:3rem 0}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.container[_ngcontent-%COMP%]{padding:0 .75rem}}@media (max-width: 640px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 480px){.products-section[_ngcontent-%COMP%]{padding:2rem 0}.products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.container[_ngcontent-%COMP%]{padding:0 .75rem}.section-title[_ngcontent-%COMP%]{margin-bottom:1rem}}@media (max-width: 768px){.product-card__content[_ngcontent-%COMP%]{padding:.75rem}.product-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.add-to-cart-btn[_ngcontent-%COMP%]{justify-content:center;width:100%}.product-price[_ngcontent-%COMP%]{text-align:center;font-size:1.125rem}}@media (max-width: 480px){.favorite-btn[_ngcontent-%COMP%]{width:36px;height:36px;top:.5rem;right:.5rem}.add-to-cart-btn[_ngcontent-%COMP%]{padding:.75rem}.add-to-cart-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.add-to-cart-btn[_ngcontent-%COMP%]:after{content:"Agregar";margin-left:.5rem}}@media (max-width: 768px){.contact-card__content[_ngcontent-%COMP%]{padding:.75rem}.contact-card__button[_ngcontent-%COMP%]{justify-content:center;width:100%}.info-item__label[_ngcontent-%COMP%]{text-align:center;font-size:1.125rem}}@media (max-width: 480px){.contact-card__button[_ngcontent-%COMP%]{padding:.75rem}.contact-card__button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.contact-card__button[_ngcontent-%COMP%]:after{content:"Contactar";margin-left:.5rem}}@media (prefers-reduced-motion: no-preference){.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(7){animation-delay:.7s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(8){animation-delay:.8s}.product-card[_ngcontent-%COMP%]{animation:fadeInUp .6s ease-out}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.contact-card[_ngcontent-%COMP%]{animation:fadeInUp .6s ease-out}}@media (prefers-reduced-motion: reduce){.products-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation-delay:0s!important}*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}.product-card[_ngcontent-%COMP%]:hover, .product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:none}.methods-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation-delay:0s!important}.contact-card[_ngcontent-%COMP%]:hover, .contact-card[_ngcontent-%COMP%]:hover   .contact-card__icon[_ngcontent-%COMP%]{transform:none}}@media (hover: none){.products-grid[_ngcontent-%COMP%]:hover > [_ngcontent-%COMP%]:not(:hover){opacity:1}.methods-grid[_ngcontent-%COMP%]:hover > [_ngcontent-%COMP%]:not(:hover){opacity:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_travel-skeleton-loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_travel-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_travel-fade-in-up{to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_travel-bounce{0%,20%,53%,80%,to{transform:translateZ(0)}40%,43%{transform:translate3d(0,-30px,0)}70%{transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}[_nghost-%COMP%]{--bg-white: v.$color-bg-white;--text-dark: v.$color-text-dark;--text-light: v.$color-text-light;--price-color: #4285f4;--border-color: #e8eaed;--shadow-light: 0 1px 2px 0 rgba(60, 64, 67, .1), 0 2px 6px 2px rgba(60, 64, 67, .05);--shadow-hover: 0 1px 3px 0 rgba(60, 64, 67, .15), 0 4px 8px 3px rgba(60, 64, 67, .1);--border-radius: 8px;--transition: all .2s cubic-bezier(.4, 0, .2, 1);--favorite-color: #ea4335;--primary-blue: #4285f4;--success-color: #34a853;--warning-color: #fbbc04;--error-color: #ea4335;--spacing-xs: v.$spacing-xs;--spacing-sm: v.$spacing-sm;--spacing-md: v.$spacing-md;--spacing-lg: v.$spacing-lg;--discount-bg: #e8f5e8;--discount-text: #137333;--original-price-color: #5f6368}.product-card-host[_ngcontent-%COMP%]{display:block;height:100%}.product-card-host--package[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{min-height:420px}.product-card[_ngcontent-%COMP%]{background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow-light);transition:var(--transition);cursor:pointer;height:100%;display:flex;flex-direction:column}.product-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-hover);transform:translateY(-1px)}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.02)}.product-card[_ngcontent-%COMP%]:focus-within:focus-visible{outline:none;box-shadow:0 0 0 2px var(--primary-blue)}.product-card__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f8f9fa;border-bottom:1px solid var(--border-color)}.product-badge[_ngcontent-%COMP%]{background:var(--primary-blue);color:var(--bg-white);padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.product-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.rating-stars[_ngcontent-%COMP%]{display:flex;gap:2px}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:16px;color:#dadce0;transition:var(--transition)}.rating-stars[_ngcontent-%COMP%]   .star.filled[_ngcontent-%COMP%]{color:var(--warning-color)}.rating-text[_ngcontent-%COMP%]{font-size:12px;color:var(--text-light);margin-left:4px}.product-card__image[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16/10;overflow:hidden;background:#f8f9fa}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;transition:var(--transition);display:block}.favorite-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:#ffffffe6;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;flex-direction:row;cursor:pointer;transition:var(--transition);color:#5f6368;font-size:18px;z-index:2;box-shadow:0 1px 2px #3c40431a}.favorite-btn[_ngcontent-%COMP%]:hover{background:var(--bg-white);transform:scale(1.05);box-shadow:0 1px 3px #3c404326}.favorite-btn[_ngcontent-%COMP%]:focus:focus-visible{outline:none;box-shadow:0 0 0 2px var(--primary-blue)}.favorite-btn.active[_ngcontent-%COMP%]{color:var(--favorite-color);background:var(--bg-white)}.favorite-btn.active[_ngcontent-%COMP%]:hover{color:var(--favorite-color)}.favorite-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{transition:var(--transition)}.image-badge[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;background:var(--success-color);color:var(--bg-white);padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;z-index:1}.product-card__content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;flex-grow:1;gap:8px}.product-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--text-dark);margin:0;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.product-description[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--text-light);margin:0;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.package-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin:4px 0}.package-info__item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-light)}.package-info__item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;color:var(--primary-blue)}.product-features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin:8px 0}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-dark)}.feature-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;color:var(--success-color)}.product-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:auto;padding-top:8px}.product-pricing[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.price-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.product-price[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--price-color);margin:0;line-height:1.2}.original-price[_ngcontent-%COMP%]{font-size:14px;color:var(--original-price-color);text-decoration:line-through;font-weight:400}.discount-badge[_ngcontent-%COMP%]{background:var(--discount-bg);color:var(--discount-text);padding:2px 6px;border-radius:4px;font-size:12px;font-weight:600;white-space:nowrap}.add-to-cart-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;background:var(--primary-blue);color:var(--bg-white);border:none;border-radius:4px;padding:12px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:var(--transition);white-space:nowrap;min-height:40px;width:100%}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background:#3367d6;box-shadow:0 1px 2px #3c404326}.add-to-cart-btn[_ngcontent-%COMP%]:focus:focus-visible{outline:none;box-shadow:0 0 0 2px var(--bg-white)}.add-to-cart-btn[_ngcontent-%COMP%]:active{background:#2a56c6}.add-to-cart-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.add-to-cart-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline}.add-to-cart-btn[_ngcontent-%COMP%]:disabled{background:#dadce0;color:#5f6368;cursor:not-allowed;box-shadow:none}.add-to-cart-btn[_ngcontent-%COMP%]:disabled:hover{background:#dadce0;box-shadow:none}.add-to-cart-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.product-image[src="/placeholder.svg"][_ngcontent-%COMP%], .product-image[_ngcontent-%COMP%]:not([src]){background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@media (max-width: 768px){.product-card__content[_ngcontent-%COMP%]{padding:14px}.product-footer[_ngcontent-%COMP%]{gap:10px}.add-to-cart-btn[_ngcontent-%COMP%]{padding:10px 14px;font-size:13px}.product-price[_ngcontent-%COMP%]{font-size:16px}.package-info__item[_ngcontent-%COMP%], .feature-item[_ngcontent-%COMP%]{font-size:12px}.package-info__item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .feature-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.favorite-btn[_ngcontent-%COMP%]{width:28px;height:28px;top:8px;right:8px;font-size:16px}.product-card__content[_ngcontent-%COMP%]{padding:12px}.add-to-cart-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:none}.add-to-cart-btn[_ngcontent-%COMP%]:after{content:"Agregar"}.product-card__header[_ngcontent-%COMP%]{padding:8px 12px}.price-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.product-pricing[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}'],changeDetection:0})};var P={LIST:"packages/",CREATE:"packages/",GET:"packages/{package_id}",UPDATE:"packages/{package_id}",DELETE:"packages/{package_id}",COMPONENTS_LIST:"packages/{package_id}/components",COMPONENTS_CREATE:"packages/{package_id}/components",COMPONENTS_UPDATE:"packages/{package_id}/components/{component_id}",COMPONENTS_DELETE:"packages/{package_id}/components/{component_id}",SEARCH_FEATURED:"packages/search/featured",SEARCH_BY_PRICE_RANGE:"packages/search/by-price-range",SEARCH_BY_DURATION:"packages/search/by-duration",STATS_OVERVIEW:"packages/stats/overview",CATEGORY_PACKAGES:"packages/{category_id}/packages"};var K=class n{apiService=J(j);logger=J(k);constructor(){}listPackages(t){return this.apiService.get(P.LIST,{params:t}).pipe($(e=>{let i=Array.isArray(e.items)?e.items:[];return this.logger.debug("Paquetes obtenidos del backend",{count:i.length}),i}),o(e=>this.logger.debug("Paquetes procesados",{count:e.length})),r(this.handleError("listPackages")))}createPackage(t){return this.apiService.post(P.CREATE,t).pipe(o(e=>this.logger.debug("Paquete creado exitosamente",e)),r(this.handleError("createPackage")))}getPackage(t){let e=P.GET.replace("{package_id}",t.toString());return this.apiService.get(e).pipe(o(i=>this.logger.debug(`Paquete con ID ${t} obtenido`,i)),r(this.handleError("getPackage")))}updatePackage(t,e){let i=P.UPDATE.replace("{package_id}",t.toString());return this.apiService.put(i,e).pipe(o(d=>this.logger.debug(`Paquete con ID ${t} actualizado`,d)),r(this.handleError("updatePackage")))}deletePackage(t){let e=P.DELETE.replace("{package_id}",t.toString());return this.apiService.delete(e).pipe(o(()=>this.logger.debug(`Paquete con ID ${t} eliminado`)),r(this.handleError("deletePackage")))}listPackageComponents(t){let e=P.COMPONENTS_LIST.replace("{package_id}",t.toString());return this.apiService.get(e).pipe(o(i=>this.logger.debug(`Componentes del paquete con ID ${t} obtenidos`,i)),r(this.handleError("listPackageComponents")))}createPackageComponent(t,e){let i=P.COMPONENTS_CREATE.replace("{package_id}",t.toString());return this.apiService.post(i,e).pipe(o(d=>this.logger.debug(`Componente creado para el paquete con ID ${t}`,d)),r(this.handleError("createPackageComponent")))}updatePackageComponent(t,e,i){let d=P.COMPONENTS_UPDATE.replace("{package_id}",t.toString()).replace("{component_id}",e.toString());return this.apiService.put(d,i).pipe(o(_=>this.logger.debug(`Componente con ID ${e} del paquete con ID ${t} actualizado`,_)),r(this.handleError("updatePackageComponent")))}deletePackageComponent(t,e){let i=P.COMPONENTS_DELETE.replace("{package_id}",t.toString()).replace("{component_id}",e.toString());return this.apiService.delete(i).pipe(o(()=>this.logger.debug(`Componente con ID ${e} del paquete con ID ${t} eliminado`)),r(this.handleError("deletePackageComponent")))}searchFeaturedPackages(){return this.apiService.get(P.SEARCH_FEATURED).pipe(o(t=>this.logger.debug("Paquetes destacados obtenidos",t)),r(this.handleError("searchFeaturedPackages")))}searchPackagesByPriceRange(t,e){let i=new F().set("min_price",t.toString()).set("max_price",e.toString());return this.apiService.get(P.SEARCH_BY_PRICE_RANGE,{params:i}).pipe(o(d=>this.logger.debug(`Paquetes en rango de precios [${t}, ${e}] obtenidos`,d)),r(this.handleError("searchPackagesByPriceRange")))}searchPackagesByDuration(t,e){let i=new F().set("min_duration",t.toString()).set("max_duration",e.toString());return this.apiService.get(P.SEARCH_BY_DURATION,{params:i}).pipe(o(d=>this.logger.debug(`Paquetes en rango de duraci\xF3n [${t}, ${e}] d\xEDas obtenidos`,d)),r(this.handleError("searchPackagesByDuration")))}getPackagesStatsOverview(){return this.apiService.get(P.STATS_OVERVIEW).pipe(o(t=>this.logger.debug("Estad\xEDsticas de paquetes obtenidas",t)),r(this.handleError("getPackagesStatsOverview")))}getCategoryPackages(t){let e=P.CATEGORY_PACKAGES.replace("{category_id}",t.toString());return this.apiService.get(e).pipe(o(i=>this.logger.debug(`Paquetes de la categor\xEDa con ID ${t} obtenidos`,i)),r(this.handleError("getCategoryPackages")))}handleError(t){return e=>(this.logger.error(`Error en ${t}`,e),U(()=>new Error(`Error en la operaci\xF3n ${t}: ${e.message}`)))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var g={CREATE:"products/products/create/",CREATE_ACTIVITY_COMPLETE:"products/products/activity-complete/",CREATE_LODGMENT_COMPLETE:"products/products/lodgment-complete/",CREATE_TRANSPORT_COMPLETE:"products/products/transport-complete/",CREATE_TRANSPORTATION_AVAILABILITY:"products/products/{id}/transportation-availability/",GET_TRANSPORTATION_AVAILABILITY:"products/products/{id}/transportation-availability/",UPDATE_TRANSPORTATION_AVAILABILITY:"products/products/transportation-availability/{id}/",DELETE_TRANSPORTATION_AVAILABILITY:"products/products/transportation-availability/{id}/",CREATE_AVAILABILITY:"products/products/{id}/availability/",GET_AVAILABILITY:"products/products/{id}/availability/",UPDATE_AVAILABILITY:"products/products/availability/{id}/",DELETE_AVAILABILITY:"products/products/availability/{id}/",LIST:"products/",GET:"products/products/{id}/",UPDATE:"products/products/{id}/",DELETE:"products/products/{id}/",SEARCH_ADVANCED:"products/products/search/advanced/",SEARCH_QUICK:"products/products/search/quick/",STATS_FILTERS:"products/products/stats/filters/",UPDATE_FLIGHT_AVAILABILITY:"products/products/{id}/flight-availability/",GET_FLIGHT_AVAILABILITY:"products/products/{id}/flight-availability/",CREATE_ROOM_AVAILABILITY:"products/products/room-availability/",GET_ROOM_AVAILABILITY:"products/products/room-availability/{id}/",UPDATE_ROOM_AVAILABILITY:"products/products/room-availability/{id}/",DELETE_ROOM_AVAILABILITY:"products/products/room-availability/{id}/",GET_ROOM_AVAILABILITIES:"products/products/room/{room_id}/availabilities/",GET_LODGMENT_ROOMS_AVAILABILITIES:"products/products/lodgment/{lodgment_id}/rooms/availabilities/",GET_ROOM_QUOTE:"products/products/room/{room_id}/quote/",CHECK_PRODUCT:"products/products/{metadata_id}/check/",CHECK_TRANSPORT:"products/products/{metadata_id}/transport/check/",CHECK_FLIGHT:"products/products/{metadata_id}/flight/check/",CHECK_ROOM:"products/products/room/{room_id}/check/",LIST_LOCATIONS:"products/locations/"};var Q=class n{constructor(t,e,i){this.apiService=t;this.logger=e;this.storageService=i}apiTimeout=G.apiTimeout;retryAttempts=G.retryAttempts;retryDelay=G.retryDelay;createProduct(t){return this.apiService.post(g.CREATE,t).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Producto creado",{id:e.id})),r(this.handleError("createProduct")))}createActivityComplete(t){return this.apiService.post(g.CREATE_ACTIVITY_COMPLETE,t).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Actividad completa creada",{id:e.id})),r(this.handleError("createActivityComplete")))}createLodgmentComplete(t){return this.apiService.post(g.CREATE_LODGMENT_COMPLETE,t).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Alojamiento completo creado",{id:e.id})),r(this.handleError("createLodgmentComplete")))}createTransportationComplete(t){return this.apiService.post(g.CREATE_TRANSPORT_COMPLETE,t).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Transporte completo creado",{id:e.id})),r(this.handleError("createTransportationComplete")))}getProduct(t){return this.apiService.get(g.GET.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Producto obtenido",{id:t})),r(this.handleError("getProduct")))}listProducts(t){return this.apiService.get(g.LIST,{params:t}).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),$(e=>{let i=Array.isArray(e.items)?e.items:[];return this.logger.debug("Productos obtenidos del backend",{count:i.length}),i}),o(e=>this.logger.debug("Productos procesados",{count:e.length})),r(this.handleError("listProducts")))}updateProduct(t,e){return this.apiService.patch(g.UPDATE.replace("{id}",t.toString()),e).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(i=>this.logger.debug("Producto actualizado",{id:t})),r(this.handleError("updateProduct")))}deleteProduct(t){return this.apiService.delete(g.DELETE.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Producto eliminado",{id:t})),r(this.handleError("deleteProduct")))}createActivityAvailability(t,e){return this.apiService.post(g.CREATE_AVAILABILITY.replace("{id}",t.toString()),e).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de actividad creada",{metadataId:t})),r(this.handleError("createActivityAvailability")))}getActivityAvailability(t){return this.apiService.get(g.GET_AVAILABILITY.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Disponibilidades de actividad obtenidas",{metadataId:t,count:e.length})),r(this.handleError("getActivityAvailability")))}updateActivityAvailability(t,e){return this.apiService.patch(g.UPDATE_AVAILABILITY.replace("{id}",t.toString()),e).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de actividad actualizada",{availabilityId:t})),r(this.handleError("updateActivityAvailability")))}deleteActivityAvailability(t){return this.apiService.delete(g.DELETE_AVAILABILITY.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de actividad eliminada",{availabilityId:t})),r(this.handleError("deleteActivityAvailability")))}createTransportationAvailability(t,e){return this.apiService.post(g.CREATE_TRANSPORTATION_AVAILABILITY.replace("{id}",t.toString()),e).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de transporte creada",{metadataId:t})),r(this.handleError("createTransportationAvailability")))}getTransportationAvailability(t){return this.apiService.get(g.GET_TRANSPORTATION_AVAILABILITY.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Disponibilidades de transporte obtenidas",{metadataId:t,count:e.length})),r(this.handleError("getTransportationAvailability")))}updateTransportationAvailability(t,e){return this.apiService.patch(g.UPDATE_TRANSPORTATION_AVAILABILITY.replace("{id}",t.toString()),e).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de transporte actualizada",{availabilityId:t})),r(this.handleError("updateTransportationAvailability")))}deleteTransportationAvailability(t){return this.apiService.delete(g.DELETE_TRANSPORTATION_AVAILABILITY.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de transporte eliminada",{availabilityId:t})),r(this.handleError("deleteTransportationAvailability")))}createRoomAvailability(t){return this.apiService.post(g.CREATE_ROOM_AVAILABILITY,t).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de habitaci\xF3n creada")),r(this.handleError("createRoomAvailability")))}getRoomAvailability(t){return this.apiService.get(g.GET_ROOM_AVAILABILITY.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de habitaci\xF3n obtenida",{availabilityId:t})),r(this.handleError("getRoomAvailability")))}updateRoomAvailability(t,e){return this.apiService.patch(g.UPDATE_ROOM_AVAILABILITY.replace("{id}",t.toString()),e).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de habitaci\xF3n actualizada",{availabilityId:t})),r(this.handleError("updateRoomAvailability")))}deleteRoomAvailability(t){return this.apiService.delete(g.DELETE_ROOM_AVAILABILITY.replace("{id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de habitaci\xF3n eliminada",{availabilityId:t})),r(this.handleError("deleteRoomAvailability")))}getRoomAvailabilities(t){return this.apiService.get(g.GET_ROOM_AVAILABILITIES.replace("{room_id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Disponibilidades de habitaci\xF3n obtenidas",{roomId:t,count:e.length})),r(this.handleError("getRoomAvailabilities")))}getLodgmentRoomsAvailabilities(t){return this.apiService.get(g.GET_LODGMENT_ROOMS_AVAILABILITIES.replace("{lodgment_id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("Disponibilidades de habitaciones de alojamiento obtenidas",{lodgmentId:t,count:e.length})),r(this.handleError("getLodgmentRoomsAvailabilities")))}getRoomQuote(t,e){return this.apiService.get(g.GET_ROOM_QUOTE.replace("{room_id}",t.toString()),{params:e}).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Cotizaci\xF3n de habitaci\xF3n obtenida",{roomId:t})),r(this.handleError("getRoomQuote")))}checkProductAvailability(t){return this.apiService.get(g.CHECK_PRODUCT.replace("{metadata_id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de producto verificada",{metadataId:t})),r(this.handleError("checkProductAvailability")))}checkTransportAvailability(t){return this.apiService.get(g.CHECK_TRANSPORT.replace("{metadata_id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de transporte verificada",{metadataId:t})),r(this.handleError("checkTransportAvailability")))}checkFlightAvailability(t){return this.apiService.get(g.CHECK_FLIGHT.replace("{metadata_id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de vuelo verificada",{metadataId:t})),r(this.handleError("checkFlightAvailability")))}checkRoomAvailability(t){return this.apiService.get(g.CHECK_ROOM.replace("{room_id}",t.toString())).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Disponibilidad de habitaci\xF3n verificada",{roomId:t})),r(this.handleError("checkRoomAvailability")))}searchProductsAdvanced(t){return this.apiService.get(g.SEARCH_ADVANCED,{params:t}).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("B\xFAsqueda avanzada de productos realizada",{count:e.length})),r(this.handleError("searchProductsAdvanced")))}searchProductsQuick(t){return this.apiService.get(g.SEARCH_QUICK,{params:t}).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(e=>this.logger.debug("B\xFAsqueda r\xE1pida de productos realizada",{count:e.length})),r(this.handleError("searchProductsQuick")))}getFilterStats(){return this.apiService.get(g.STATS_FILTERS).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(()=>this.logger.debug("Estad\xEDsticas de filtros obtenidas")),r(this.handleError("getFilterStats")))}listLocations(){return this.apiService.get(g.LIST_LOCATIONS).pipe(p(this.apiTimeout),l({count:this.retryAttempts,delay:this.retryDelay}),o(t=>this.logger.debug("Ubicaciones listadas",{count:t.length})),r(this.handleError("listLocations")))}handleError(t){return e=>(this.logger.error(`${t} fall\xF3`,e),e instanceof ot&&e.status===401&&(this.storageService.clearStorage(),this.logger.debug("Sesi\xF3n limpiada debido a error 401")),U(()=>new Error(`Error en ${t}: ${e.message||"Error desconocido"}`)))}static \u0275fac=function(e){return new(e||n)(B(j),B(k),B(ct))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function Rt(n,t){if(n&1&&(w(0),c(1,"p",9),m(2),s(),D()),n&2){let e=h(2);a(2),b(e.noProductsMessage)}}function It(n,t){if(n&1){let e=tt();c(0,"app-product-card",12),A("addToCart",function(d){R(e);let _=h(3);return I(_.onAddToCart(d))})("toggleFavorite",function(d){R(e);let _=h(3);return I(_.onToggleFavorite(d))}),s()}if(n&2){let e=t.$implicit,i=h(3);u("id",e.id)("availability_id",e.availability_id)("title",e.title)("description",e.description)("price",e.price)("imageUrl",e.imageUrl)("isFavorite",i.favoriteIds.has(e.id))("isAddingToCart",i.isAddingToCart(e.id))}}function wt(n,t){if(n&1&&(c(0,"div",10),v(1,It,1,8,"app-product-card",11),s()),n&2){let e=h(2);a(),u("ngForOf",e.products)("ngForTrackBy",e.trackByProductId)}}function Dt(n,t){if(n&1&&(w(0),c(1,"h3",5)(2,"a",6),m(3," Disponibles en Par\xEDs el mes que viene "),c(4,"span",7),m(5,"chevron_right"),s()()(),v(6,Rt,3,1,"ng-container",8)(7,wt,2,2,"ng-template",null,0,nt),D()),n&2){let e=et(8),i=h();a(6),u("ngIf",i.noProductsMessage&&i.products.length===0)("ngIfElse",e)}}function Lt(n,t){if(n&1&&(w(0),c(1,"p",9),m(2),s(),D()),n&2){let e=h(2);a(2),b(e.noPackagesMessage)}}function Ft(n,t){if(n&1){let e=tt();c(0,"app-product-card",14),A("addToCart",function(d){R(e);let _=h(3);return I(_.onAddPackageToCart(d))})("toggleFavorite",function(d){R(e);let _=h(3);return I(_.onToggleFavorite(d))}),s()}if(n&2){let e=t.$implicit,i=h(3);u("id",e.id)("availability_id",e.availability_id)("title",e.title)("description",e.description)("price",e.price)("originalPrice",e.originalPrice)("discount",e.discount)("imageUrl",e.imageUrl)("rating",e.rating)("reviewsCount",e.reviewsCount)("features",e.features)("badge",e.badge)("destination",e.destination)("duration",e.duration)("maxPeople",e.maxPeople)("isFavorite",i.favoriteIds.has(e.id))("isAddingToCart",i.isAddingToCart(e.id))}}function Nt(n,t){if(n&1&&(c(0,"div",10),v(1,Ft,1,17,"app-product-card",13),s()),n&2){let e=h(2);a(),u("ngForOf",e.packages)("ngForTrackBy",e.trackByPackageId)}}function Ut(n,t){if(n&1&&(w(0),c(1,"h3",5),m(2," Paquetes tur\xEDsticos destacados "),c(3,"span",7),m(4,"chevron_right"),s()(),v(5,Lt,3,1,"ng-container",8)(6,Nt,2,2,"ng-template",null,1,nt),D()),n&2){let e=et(7),i=h();a(5),u("ngIf",i.noPackagesMessage&&i.packages.length===0)("ngIfElse",e)}}var lt=class n{constructor(t,e,i,d,_){this.cartService=t;this.packageService=e;this.productService=i;this.logger=d;this.notificationService=_}mode="all";favoriteIds=new Set;addingToCart=new Set;products=[];packages=[];noProductsMessage=null;noPackagesMessage=null;ngOnInit(){(this.mode==="products"||this.mode==="all")&&this.loadProducts(),(this.mode==="packages"||this.mode==="all")&&this.loadPackages()}loadProducts(){let t=new F;this.productService.listProducts(t).subscribe({next:e=>{this.products=e.map(i=>{let d,_,y,O,M;switch(i.product_type){case"activity":d=i.product.name??"Actividad sin nombre",_=i.product.description??"Sin descripci\xF3n disponible",y=i.product.image??"https://via.placeholder.com/400x300?text=Actividad",O=i.product.availability_id?.[0]?.id,M=i.currency??"USD";break;case"lodgment":d=i.product.name??"Alojamiento sin nombre",_=i.product.description??"Sin descripci\xF3n disponible",y=i.product.image??"https://via.placeholder.com/400x300?text=Alojamiento",O=void 0,M=i.currency??"USD";break;case"transportation":d=i.product.type?`${i.product.type} de ${i.product.origin?.city??"Origen desconocido"} a ${i.product.destination?.city??"Destino desconocido"}`:"Transporte sin nombre",_=i.product.description??"Sin descripci\xF3n disponible",y=i.product.image??"https://via.placeholder.com/400x300?text=Transporte",O=i.product.availability_id?.[0]?.id,M=i.currency??"USD";break;case"flight":d=`Vuelo de ${i.product.origin?.city??"Origen desconocido"} a ${i.product.destination?.city??"Destino desconocido"}`||"Vuelo sin nombre",_=i.product.description??"Sin descripci\xF3n disponible",y=i.product.image??"https://via.placeholder.com/400x300?text=Vuelo",O=i.product.availability_id,M=i.currency??"USD";break;default:d="Producto sin nombre",_="Sin descripci\xF3n disponible",y="https://via.placeholder.com/400x300?text=Producto",O=void 0,M="USD"}return Z(S({},i),{availability_id:O,title:d,description:_,price:i.unit_price??0,imageUrl:y,currency:M})}),this.noProductsMessage=this.products.length===0?"No hay productos disponibles en este momento.":null},error:e=>{this.logger.error("Error al cargar los productos",e),this.noProductsMessage="Error al cargar los productos. Por favor, intenta de nuevo.",this.notificationService.error("Error al cargar los productos",{duration:5e3})}})}loadPackages(){this.packageService.listPackages().subscribe({next:t=>{this.packages=t.map(e=>{let i=e.base_price??0,d=e.taxes??0,_=e.final_price??0;return Z(S({},e),{availability_id:e.availability_id||e.id,title:e.name??"Paquete sin nombre",price:_,currency:e.currency??"USD",rating:e.rating_average??0,reviewsCount:e.total_reviews??0,imageUrl:"https://via.placeholder.com/400x300?text=Paquete+Tur\xEDstico",originalPrice:i&&d?i+d:void 0,discount:i&&_&&_<i?(i-_)/i*100:void 0,features:[],badge:e.rating_average&&e.rating_average>=4.8?"M\xE1s vendido":void 0,destination:void 0,duration:e.duration_days?`${e.duration_days} d\xEDas`:void 0,maxPeople:void 0})}),this.noPackagesMessage=this.packages.length===0?"No hay paquetes disponibles en este momento.":null},error:t=>{this.logger.error("Error al cargar los paquetes",t),this.noPackagesMessage="Error al cargar los paquetes. Por favor, intenta de nuevo.",this.notificationService.error("Error al cargar los paquetes",{duration:5e3})}})}trackByProductId(t,e){return e.id}trackByPackageId(t,e){return e.id}onAddToCart(t){if(this.addingToCart.has(t.id))return;if(t.availability_id===void 0){this.notificationService.error("No hay disponibilidad para este producto.",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"});return}this.addingToCart.add(t.id);let e={availability_id:t.availability_id,product_metadata_id:t.id,qty:1,unit_price:t.price,currency:t.currency,config:{title:t.title,description:t.description,imageUrl:t.imageUrl}};this.cartService.addCartItem(e).subscribe({next:()=>{this.notificationService.success(`\xA1${t.title} agregado al carrito!`,{duration:4e3,horizontalPosition:"right",verticalPosition:"top"}),this.addingToCart.delete(t.id)},error:i=>{this.logger.error("Error al agregar al carrito",i),this.addingToCart.delete(t.id)}})}onAddPackageToCart(t){if(this.addingToCart.has(t.id))return;this.addingToCart.add(t.id);let e={availability_id:t.availability_id,product_metadata_id:t.id,qty:1,unit_price:t.price,currency:t.currency,config:{title:t.title,description:t.description,imageUrl:t.imageUrl,destination:t.destination,duration:t.duration,maxPeople:t.maxPeople,features:t.features}};this.cartService.addCartItem(e).subscribe({next:()=>{this.notificationService.success(`\xA1${t.title} agregado al carrito!`,{duration:4e3,horizontalPosition:"right",verticalPosition:"top"}),this.addingToCart.delete(t.id)},error:i=>{this.logger.error("Error al agregar al carrito",i),this.addingToCart.delete(t.id)}})}isAddingToCart(t){return this.addingToCart.has(t)}onToggleFavorite(t){t.isFavorite?(this.favoriteIds.add(t.id),this.notificationService.success("A\xF1adido a favoritos",{duration:3e3})):(this.favoriteIds.delete(t.id),this.notificationService.info("Eliminado de favoritos",{duration:3e3})),this.logger.debug("Favoritos actualizados",Array.from(this.favoriteIds))}static \u0275fac=function(e){return new(e||n)(T(dt),T(K),T(Q),T(k),T(st))};static \u0275cmp=f({type:n,selectors:[["app-product-list"]],inputs:{mode:"mode"},decls:4,vars:2,consts:[["productsContent",""],["packagesContent",""],[1,"products-section"],[1,"container"],[4,"ngIf"],[1,"section-title"],["href","#",1,"section-link"],[1,"material-icons"],[4,"ngIf","ngIfElse"],[1,"no-items-message"],[1,"products-grid"],["mode","product",3,"id","availability_id","title","description","price","imageUrl","isFavorite","isAddingToCart","addToCart","toggleFavorite",4,"ngFor","ngForOf","ngForTrackBy"],["mode","product",3,"addToCart","toggleFavorite","id","availability_id","title","description","price","imageUrl","isFavorite","isAddingToCart"],["mode","package",3,"id","availability_id","title","description","price","originalPrice","discount","imageUrl","rating","reviewsCount","features","badge","destination","duration","maxPeople","isFavorite","isAddingToCart","addToCart","toggleFavorite",4,"ngFor","ngForOf","ngForTrackBy"],["mode","package",3,"addToCart","toggleFavorite","id","availability_id","title","description","price","originalPrice","discount","imageUrl","rating","reviewsCount","features","badge","destination","duration","maxPeople","isFavorite","isAddingToCart"]],template:function(e,i){e&1&&(c(0,"section",2)(1,"div",3),v(2,Dt,9,2,"ng-container",4)(3,Ut,8,2,"ng-container",4),s()()),e&2&&(a(2),u("ngIf",i.mode==="products"||i.mode==="all"),a(),u("ngIf",i.mode==="packages"||i.mode==="all"))},dependencies:[C,E,H,q],styles:['@media (max-width: 1024px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}}@media (max-width: 768px){.products-section[_ngcontent-%COMP%]{padding:3rem 0}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.container[_ngcontent-%COMP%]{padding:0 .75rem}}@media (max-width: 480px){.products-section[_ngcontent-%COMP%]{padding:2rem 0}.products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.container[_ngcontent-%COMP%]{padding:0 .75rem}.section-title[_ngcontent-%COMP%]{margin-bottom:1rem}}@media (max-width: 768px){.product-card__content[_ngcontent-%COMP%]{padding:.75rem}.product-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.add-to-cart-btn[_ngcontent-%COMP%]{justify-content:center;width:100%}.product-price[_ngcontent-%COMP%]{text-align:center;font-size:1.125rem}}@media (max-width: 480px){.favorite-btn[_ngcontent-%COMP%]{width:36px;height:36px;top:.5rem;right:.5rem}.add-to-cart-btn[_ngcontent-%COMP%]{padding:.75rem}.add-to-cart-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.add-to-cart-btn[_ngcontent-%COMP%]:after{content:"Agregar";margin-left:.5rem}}@media (max-width: 768px){.contact-card__content[_ngcontent-%COMP%]{padding:.75rem}.contact-card__button[_ngcontent-%COMP%]{justify-content:center;width:100%}.info-item__label[_ngcontent-%COMP%]{text-align:center;font-size:1.125rem}}@media (max-width: 480px){.contact-card__button[_ngcontent-%COMP%]{padding:.75rem}.contact-card__button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.contact-card__button[_ngcontent-%COMP%]:after{content:"Contactar";margin-left:.5rem}}@media (prefers-reduced-motion: no-preference){.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(7){animation-delay:.7s}.products-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(8){animation-delay:.8s}.product-card[_ngcontent-%COMP%]{animation:fadeInUp .6s ease-out}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.methods-grid[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.contact-card[_ngcontent-%COMP%]{animation:fadeInUp .6s ease-out}}@media (prefers-reduced-motion: reduce){.products-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation-delay:0s!important}*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}.product-card[_ngcontent-%COMP%]:hover, .product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:none}.methods-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation-delay:0s!important}.contact-card[_ngcontent-%COMP%]:hover, .contact-card[_ngcontent-%COMP%]:hover   .contact-card__icon[_ngcontent-%COMP%]{transform:none}}@media (hover: none){.products-grid[_ngcontent-%COMP%]:hover > [_ngcontent-%COMP%]:not(:hover){opacity:1}.methods-grid[_ngcontent-%COMP%]:hover > [_ngcontent-%COMP%]:not(:hover){opacity:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_travel-skeleton-loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_travel-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_travel-fade-in-up{to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_travel-bounce{0%,20%,53%,80%,to{transform:translateZ(0)}40%,43%{transform:translate3d(0,-30px,0)}70%{transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}[_nghost-%COMP%]{--bg-white: v.$color-bg-white;--text-dark: v.$color-text-dark;--text-light: v.$color-text-light;--primary-blue: #4285f4;--border-radius: 8px;--transition: all .2s cubic-bezier(.4, 0, .2, 1);--spacing-xs: v.$spacing-xs;--spacing-sm: v.$spacing-sm;--spacing-md: v.$spacing-md;--spacing-lg: v.$spacing-lg;--spacing-xl: v.$spacing-xl;--spacing-2xl: v.$spacing-2xl;--spacing-3xl: v.$spacing-3xl}.products-section[_ngcontent-%COMP%]{padding:40px 0 60px;background:var(--bg-white);min-height:100vh}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.section-title[_ngcontent-%COMP%]{font-size:22px;font-weight:400;margin-bottom:24px;color:var(--text-dark);line-height:1.3;display:flex;align-items:center}.section-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;text-decoration:none;color:inherit;transition:var(--transition)}.section-link[_ngcontent-%COMP%]:hover{color:var(--primary-blue)}.section-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(2px);color:var(--primary-blue)}.section-link[_ngcontent-%COMP%]:focus{border-radius:4px}.section-link[_ngcontent-%COMP%]:focus:focus-visible{outline:none;box-shadow:0 0 0 2px var(--primary-blue)}.section-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-light);font-size:14px;transition:var(--transition)}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:24px;align-items:start}.products-grid[_ngcontent-%COMP%]:empty{display:flex;align-items:center;justify-content:center;min-height:300px}.products-grid[_ngcontent-%COMP%]:empty:after{content:"Cargando productos...";color:var(--text-light);font-size:16px}.products-grid[_ngcontent-%COMP%]:focus-within{outline:none}@media (max-width: 1024px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}}@media (max-width: 768px){.products-section[_ngcontent-%COMP%]{padding:32px 0 48px}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}.container[_ngcontent-%COMP%]{padding:0 16px}.section-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px}}@media (max-width: 640px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 480px){.products-section[_ngcontent-%COMP%]{padding:24px 0 40px}.products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.container[_ngcontent-%COMP%]{padding:0 12px}.section-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:16px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}']})};var W=class n{icon="fas fa-star";title="";description="";constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-aside-card"]],inputs:{icon:"icon",title:"title",description:"description"},decls:7,vars:4,consts:[[1,"service-card"],[1,"service-icon"],[1,"service-title"],[1,"service-description"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1),x(2,"i"),s(),c(3,"h3",2),m(4),s(),c(5,"p",3),m(6),s()()),e&2&&(a(2),Y(i.icon),a(2),b(i.title),a(2),b(i.description))},dependencies:[C],styles:["[_nghost-%COMP%]{--bg-white: v.$color-bg-white;--bg-light: v.$color-background;--text-dark: v.$color-text-dark;--text-light: v.$color-text-light;--primary-blue: #1e40af;--secondary-blue: #3b82f6;--border-radius: v.$border-radius;--shadow-light: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-hover: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition: all .3s cubic-bezier(.4, 0, .2, 1);--spacing-sm: v.$spacing-sm;--spacing-md: v.$spacing-md;--spacing-lg: v.$spacing-lg;--spacing-xl: v.$spacing-xl;--spacing-2xl: v.$spacing-2xl}.service-card[_ngcontent-%COMP%]{background:var(--bg-white);padding:40px 30px;border-radius:16px;text-align:center;box-shadow:var(--shadow-light);transition:var(--transition);height:100%;display:flex;flex-direction:column;align-items:center;border:1px solid rgba(255,255,255,.1)}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:var(--shadow-hover);border-color:#1e40af1a}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 8px 25px #1e40af4d}.service-card[_ngcontent-%COMP%]:hover   .service-title[_ngcontent-%COMP%]{color:var(--primary-blue)}.service-card[_ngcontent-%COMP%]:focus-within:focus-visible{outline:none;box-shadow:0 0 0 3px var(--primary-blue)}.service-icon[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,var(--primary-blue),var(--secondary-blue));border-radius:50%;display:flex;align-items:center;justify-content:center;flex-direction:row;margin:0 auto 24px;font-size:32px;color:var(--bg-white);transition:var(--transition);box-shadow:0 4px 14px #1e40af33}.service-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:var(--transition)}.service-title[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:24px;font-weight:600;margin-bottom:16px;color:var(--text-dark);line-height:1.3;transition:color .3s ease;letter-spacing:-.01em}.service-description[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:1rem;font-weight:400;color:var(--text-light);line-height:1.6;margin:0;flex-grow:1;display:flex;align-items:center}@media (max-width: 768px){.service-card[_ngcontent-%COMP%]{padding:32px 24px}.service-icon[_ngcontent-%COMP%]{width:70px;height:70px;font-size:28px;margin-bottom:20px}.service-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.service-description[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{padding:28px 20px}.service-icon[_ngcontent-%COMP%]{width:60px;height:60px;font-size:24px;margin-bottom:16px}.service-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media (prefers-reduced-motion: reduce){.service-card[_ngcontent-%COMP%]{transition:none}.service-card[_ngcontent-%COMP%]:hover{transform:none}.service-icon[_ngcontent-%COMP%]{transition:none}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]{transform:none}}"]})};function $t(n,t){if(n&1&&x(0,"app-aside-card",4),n&2){let e=t.$implicit;u("icon",e.icon)("title",e.title)("description",e.description)}}var gt=class n{services;trackByService(t,e){return e.id}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-services-section"]],inputs:{services:"services"},decls:4,vars:2,consts:[[1,"services-section"],[1,"container"],[1,"services-grid"],[3,"icon","title","description",4,"ngFor","ngForOf","ngForTrackBy"],[3,"icon","title","description"]],template:function(e,i){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2),v(3,$t,1,3,"app-aside-card",3),s()()()),e&2&&(a(3),u("ngForOf",i.services)("ngForTrackBy",i.trackByService))},dependencies:[C,E,W],styles:["[_nghost-%COMP%]{--bg-light: v.$color-background;--text-dark: v.$color-text-dark;--spacing-3xl: v.$spacing-3xl;--spacing-2xl: v.$spacing-2xl;--spacing-xl: v.$spacing-xl;--spacing-lg: v.$spacing-lg}.services-section[_ngcontent-%COMP%]{background:var(--bg-light);padding:80px 0;margin-top:60px}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.services-title[_ngcontent-%COMP%]{text-align:center;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:clamp(28px,4vw,36px);font-weight:700;margin-bottom:60px;color:var(--text-dark);line-height:1.2;letter-spacing:-.02em}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:40px;align-items:stretch}@media (max-width: 1024px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:32px}}@media (max-width: 768px){.services-section[_ngcontent-%COMP%]{padding:60px 0;margin-top:40px}.container[_ngcontent-%COMP%]{padding:0 16px}.services-title[_ngcontent-%COMP%]{margin-bottom:40px}.services-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px}}@media (max-width: 640px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]{padding:48px 0;margin-top:32px}.container[_ngcontent-%COMP%]{padding:0 12px}.services-title[_ngcontent-%COMP%]{margin-bottom:32px}}"]})};export{lt as a,gt as b};
